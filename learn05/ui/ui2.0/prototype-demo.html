<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™ºèƒ½æ•™å­¦åŠ©æ‰‹2.0 - äº¤äº’åŸå‹æ¼”ç¤º</title>
    
    <!-- æ ·å¼æ–‡ä»¶ -->
    <link rel="stylesheet" href="design-system.css">
    <link rel="stylesheet" href="components.css">
    <link rel="stylesheet" href="layout.css">
    <link rel="stylesheet" href="animations.css">
    <link rel="stylesheet" href="responsive.css">
    <link rel="stylesheet" href="mobile.css">
    
    <!-- å›¾æ ‡åº“ -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        /* æ¼”ç¤ºé¡µé¢ä¸“ç”¨æ ·å¼ */
        .demo-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: var(--spacing-6);
        }
        
        .demo-section {
            margin-bottom: var(--spacing-8);
            padding: var(--spacing-6);
            background: var(--bg-secondary);
            border-radius: var(--radius-lg);
            border: 1px solid var(--border-color);
        }
        
        .demo-title {
            font-size: var(--text-2xl);
            font-weight: var(--font-semibold);
            color: var(--text-primary);
            margin-bottom: var(--spacing-4);
            display: flex;
            align-items: center;
            gap: var(--spacing-2);
        }
        
        .demo-description {
            color: var(--text-secondary);
            margin-bottom: var(--spacing-6);
            line-height: 1.6;
        }
        
        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--spacing-4);
            margin-bottom: var(--spacing-4);
        }
        
        .demo-item {
            padding: var(--spacing-4);
            background: var(--bg-primary);
            border-radius: var(--radius-md);
            border: 1px solid var(--border-color);
            text-align: center;
            cursor: pointer;
            transition: all var(--animation-fast) var(--ease-out-cubic);
        }
        
        .demo-item:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .demo-item h4 {
            margin-bottom: var(--spacing-2);
            color: var(--text-primary);
        }
        
        .demo-item p {
            color: var(--text-secondary);
            font-size: var(--text-sm);
        }
        
        .demo-controls {
            display: flex;
            gap: var(--spacing-2);
            margin-bottom: var(--spacing-4);
            flex-wrap: wrap;
        }
        
        .demo-playground {
            min-height: 200px;
            background: var(--bg-primary);
            border-radius: var(--radius-md);
            border: 2px dashed var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        
        .demo-target {
            width: 100px;
            height: 100px;
            background: var(--primary-500);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: var(--font-semibold);
            cursor: pointer;
        }
        
        .score-demo {
            font-size: var(--text-2xl);
            font-weight: var(--font-bold);
            color: var(--primary-500);
            position: relative;
        }
        
        .progress-demo {
            width: 100%;
            height: 8px;
            background: var(--gray-200);
            border-radius: var(--radius-full);
            overflow: hidden;
            position: relative;
        }
        
        .progress-demo .progress-bar {
            height: 100%;
            background: var(--primary-500);
            border-radius: var(--radius-full);
            transition: width var(--animation-base) var(--ease-out-cubic);
            width: 0%;
        }
        
        .notification-demo {
            position: fixed;
            top: var(--spacing-4);
            right: var(--spacing-4);
            z-index: 1000;
        }
        
        .modal-demo {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1000;
        }
        
        .modal-backdrop {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            opacity: 0;
        }
        
        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
            background: var(--bg-primary);
            border-radius: var(--radius-lg);
            padding: var(--spacing-6);
            max-width: 500px;
            width: 90%;
            opacity: 0;
        }
        
        .ai-demo {
            background: linear-gradient(135deg, var(--primary-50), var(--primary-100));
            border: 1px solid var(--primary-200);
            border-radius: var(--radius-lg);
            padding: var(--spacing-4);
            position: relative;
            overflow: hidden;
        }
        
        .ai-avatar {
            width: 40px;
            height: 40px;
            background: var(--primary-500);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            margin-bottom: var(--spacing-2);
        }
        
        .ai-message {
            color: var(--text-primary);
            line-height: 1.5;
        }
        
        .gamification-demo {
            text-align: center;
            padding: var(--spacing-6);
        }
        
        .level-badge {
            display: inline-flex;
            align-items: center;
            gap: var(--spacing-2);
            background: var(--warning-500);
            color: white;
            padding: var(--spacing-2) var(--spacing-4);
            border-radius: var(--radius-full);
            font-weight: var(--font-semibold);
            margin-bottom: var(--spacing-4);
        }
        
        .achievement-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: var(--spacing-3);
            margin-top: var(--spacing-4);
        }
        
        .achievement-item {
            padding: var(--spacing-3);
            background: var(--bg-primary);
            border-radius: var(--radius-md);
            border: 2px solid var(--border-color);
            cursor: pointer;
            transition: all var(--animation-fast) var(--ease-out-cubic);
        }
        
        .achievement-item.unlocked {
            border-color: var(--success-500);
            background: var(--success-50);
        }
        
        .achievement-item:hover {
            transform: scale(1.05);
        }
        
        .achievement-icon {
            font-size: var(--text-2xl);
            margin-bottom: var(--spacing-2);
        }
        
        .achievement-item.unlocked .achievement-icon {
            color: var(--success-500);
        }
        
        .achievement-item:not(.unlocked) .achievement-icon {
            color: var(--gray-400);
        }
        
        .settings-panel {
            position: fixed;
            top: var(--spacing-4);
            left: var(--spacing-4);
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--spacing-4);
            box-shadow: var(--shadow-lg);
            z-index: 1000;
        }
        
        .settings-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: var(--spacing-3);
        }
        
        .settings-item:last-child {
            margin-bottom: 0;
        }
        
        .switch {
            position: relative;
            width: 44px;
            height: 24px;
            background: var(--gray-300);
            border-radius: var(--radius-full);
            cursor: pointer;
            transition: background var(--animation-fast) var(--ease-out-cubic);
        }
        
        .switch.active {
            background: var(--primary-500);
        }
        
        .switch::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            transition: transform var(--animation-fast) var(--ease-out-cubic);
        }
        
        .switch.active::after {
            transform: translateX(20px);
        }
        
        @keyframes scoreImprovement {
            0% {
                opacity: 0;
                transform: translateY(0) scale(0.8);
            }
            50% {
                opacity: 1;
                transform: translateY(-10px) scale(1.2);
            }
            100% {
                opacity: 0;
                transform: translateY(-20px) scale(1);
            }
        }
        
        @keyframes celebrationParticle {
            0% {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
            100% {
                opacity: 0;
                transform: scale(0) translateY(-50px);
            }
        }
    </style>
</head>
<body>
    <!-- è®¾ç½®é¢æ¿ -->
    <div class="settings-panel">
        <h4 style="margin-bottom: var(--spacing-3); color: var(--text-primary);">åŠ¨ç”»è®¾ç½®</h4>
        <div class="settings-item">
            <span>å‡å°‘åŠ¨ç”»</span>
            <div class="switch" id="reducedMotionSwitch"></div>
        </div>
        <div class="settings-item">
            <span>å¯ç”¨å£°éŸ³</span>
            <div class="switch" id="soundSwitch"></div>
        </div>
        <div class="settings-item">
            <span>å¯ç”¨éœ‡åŠ¨</span>
            <div class="switch" id="vibrationSwitch"></div>
        </div>
    </div>

    <div class="demo-container">
        <header style="text-align: center; margin-bottom: var(--spacing-8);">
            <h1 style="font-size: var(--text-4xl); font-weight: var(--font-bold); color: var(--text-primary); margin-bottom: var(--spacing-2);">
                æ™ºèƒ½æ•™å­¦åŠ©æ‰‹2.0 äº¤äº’åŸå‹æ¼”ç¤º
            </h1>
            <p style="color: var(--text-secondary); font-size: var(--text-lg);">
                ä½“éªŒä¸°å¯Œçš„åŠ¨ç”»æ•ˆæœå’Œäº¤äº’åŠŸèƒ½
            </p>
        </header>

        <!-- åŸºç¡€åŠ¨ç”»æ¼”ç¤º -->
        <section class="demo-section">
            <h2 class="demo-title">
                <i class="fas fa-magic"></i>
                åŸºç¡€åŠ¨ç”»æ•ˆæœ
            </h2>
            <p class="demo-description">
                å±•ç¤ºå„ç§åŸºç¡€åŠ¨ç”»æ•ˆæœï¼ŒåŒ…æ‹¬æ·¡å…¥æ·¡å‡ºã€æ»‘åŠ¨ã€ç¼©æ”¾ã€æ—‹è½¬ç­‰åŠ¨ç”»ç±»å‹ã€‚
            </p>
            
            <div class="demo-controls">
                <button class="btn btn-primary" onclick="triggerAnimation('fade-in')">æ·¡å…¥</button>
                <button class="btn btn-primary" onclick="triggerAnimation('slide-in-up')">æ»‘å…¥</button>
                <button class="btn btn-primary" onclick="triggerAnimation('zoom-in')">ç¼©æ”¾</button>
                <button class="btn btn-primary" onclick="triggerAnimation('bounce-in')">å¼¹è·³</button>
                <button class="btn btn-primary" onclick="triggerAnimation('rotate-in')">æ—‹è½¬</button>
                <button class="btn btn-primary" onclick="triggerAnimation('shake')">æ‘‡æ‘†</button>
                <button class="btn btn-primary" onclick="triggerAnimation('pulse')">è„‰å†²</button>
                <button class="btn btn-secondary" onclick="resetAnimation()">é‡ç½®</button>
            </div>
            
            <div class="demo-playground">
                <div class="demo-target" id="animationTarget">
                    <i class="fas fa-star"></i>
                </div>
            </div>
        </section>

        <!-- äº¤äº’åé¦ˆæ¼”ç¤º -->
        <section class="demo-section">
            <h2 class="demo-title">
                <i class="fas fa-hand-pointer"></i>
                äº¤äº’åé¦ˆæ•ˆæœ
            </h2>
            <p class="demo-description">
                å±•ç¤ºæ‚¬åœã€ç‚¹å‡»ã€ç„¦ç‚¹ç­‰äº¤äº’çŠ¶æ€çš„è§†è§‰åé¦ˆæ•ˆæœã€‚
            </p>
            
            <div class="demo-grid">
                <div class="demo-item hover-lift ripple-effect" onclick="createRipple(event)">
                    <h4>æ‚¬åœæå‡</h4>
                    <p>é¼ æ ‡æ‚¬åœæ—¶å…ƒç´ å‘ä¸Šç§»åŠ¨</p>
                </div>
                <div class="demo-item hover-grow ripple-effect" onclick="createRipple(event)">
                    <h4>æ‚¬åœæ”¾å¤§</h4>
                    <p>é¼ æ ‡æ‚¬åœæ—¶å…ƒç´ æ”¾å¤§</p>
                </div>
                <div class="demo-item hover-shadow ripple-effect" onclick="createRipple(event)">
                    <h4>æ‚¬åœé˜´å½±</h4>
                    <p>é¼ æ ‡æ‚¬åœæ—¶å¢åŠ é˜´å½±</p>
                </div>
                <div class="demo-item hover-glow ripple-effect" onclick="createRipple(event)">
                    <h4>æ‚¬åœå‘å…‰</h4>
                    <p>é¼ æ ‡æ‚¬åœæ—¶äº§ç”Ÿå…‰æ™•æ•ˆæœ</p>
                </div>
            </div>
        </section>

        <!-- æ•™è‚²åœºæ™¯åŠ¨ç”» -->
        <section class="demo-section">
            <h2 class="demo-title">
                <i class="fas fa-graduation-cap"></i>
                æ•™è‚²åœºæ™¯åŠ¨ç”»
            </h2>
            <p class="demo-description">
                ä¸“ä¸ºæ•™è‚²åœºæ™¯è®¾è®¡çš„åŠ¨ç”»æ•ˆæœï¼ŒåŒ…æ‹¬æˆç»©å˜åŒ–ã€è¿›åº¦æ›´æ–°ã€AIåé¦ˆç­‰ã€‚
            </p>
            
            <div class="demo-grid">
                <div class="demo-item">
                    <h4>æˆç»©å˜åŒ–</h4>
                    <div class="score-demo" id="scoreDemo">85</div>
                    <div style="margin-top: var(--spacing-2);">
                        <button class="btn btn-sm btn-success" onclick="updateScore(95)">æå‡æˆç»©</button>
                        <button class="btn btn-sm btn-error" onclick="updateScore(75)">é™ä½æˆç»©</button>
                    </div>
                </div>
                
                <div class="demo-item">
                    <h4>å­¦ä¹ è¿›åº¦</h4>
                    <div class="progress-demo" id="progressDemo">
                        <div class="progress-bar"></div>
                    </div>
                    <div style="margin-top: var(--spacing-2);">
                        <button class="btn btn-sm btn-primary" onclick="updateProgress()">æ›´æ–°è¿›åº¦</button>
                        <button class="btn btn-sm btn-success" onclick="completeProgress()">å®Œæˆè¯¾ç¨‹</button>
                    </div>
                </div>
                
                <div class="demo-item">
                    <h4>AIæ™ºèƒ½åé¦ˆ</h4>
                    <div class="ai-demo" id="aiDemo">
                        <div class="ai-avatar">
                            <i class="fas fa-robot ai-thinking"></i>
                        </div>
                        <div class="ai-message">ç‚¹å‡»æŒ‰é’®è·å–AIåé¦ˆ...</div>
                    </div>
                    <div style="margin-top: var(--spacing-2);">
                        <button class="btn btn-sm btn-primary" onclick="showAIFeedback()">è·å–åé¦ˆ</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- é€šçŸ¥ç³»ç»Ÿæ¼”ç¤º -->
        <section class="demo-section">
            <h2 class="demo-title">
                <i class="fas fa-bell"></i>
                é€šçŸ¥ç³»ç»Ÿ
            </h2>
            <p class="demo-description">
                å±•ç¤ºä¸åŒç±»å‹çš„é€šçŸ¥æ¶ˆæ¯å’Œæç¤ºæ•ˆæœã€‚
            </p>
            
            <div class="demo-controls">
                <button class="btn btn-success" onclick="showNotification('æ“ä½œæˆåŠŸå®Œæˆï¼', 'success')">æˆåŠŸé€šçŸ¥</button>
                <button class="btn btn-error" onclick="showNotification('å‘ç”Ÿäº†ä¸€ä¸ªé”™è¯¯ï¼', 'error')">é”™è¯¯é€šçŸ¥</button>
                <button class="btn btn-warning" onclick="showNotification('è¯·æ³¨æ„è¿™ä¸ªè­¦å‘Šï¼', 'warning')">è­¦å‘Šé€šçŸ¥</button>
                <button class="btn btn-primary" onclick="showNotification('è¿™æ˜¯ä¸€æ¡ä¿¡æ¯ï¼', 'info')">ä¿¡æ¯é€šçŸ¥</button>
            </div>
        </section>

        <!-- æ¨¡æ€æ¡†æ¼”ç¤º -->
        <section class="demo-section">
            <h2 class="demo-title">
                <i class="fas fa-window-restore"></i>
                æ¨¡æ€æ¡†åŠ¨ç”»
            </h2>
            <p class="demo-description">
                å±•ç¤ºæ¨¡æ€æ¡†çš„æ‰“å¼€å’Œå…³é—­åŠ¨ç”»æ•ˆæœã€‚
            </p>
            
            <div class="demo-controls">
                <button class="btn btn-primary" onclick="showModal()">æ‰“å¼€æ¨¡æ€æ¡†</button>
            </div>
        </section>

        <!-- æ¸¸æˆåŒ–å…ƒç´  -->
        <section class="demo-section">
            <h2 class="demo-title">
                <i class="fas fa-trophy"></i>
                æ¸¸æˆåŒ–å…ƒç´ 
            </h2>
            <p class="demo-description">
                å±•ç¤ºæˆå°±ç³»ç»Ÿã€ç­‰çº§æå‡ã€å¥–åŠ±åé¦ˆç­‰æ¸¸æˆåŒ–å…ƒç´ çš„åŠ¨ç”»æ•ˆæœã€‚
            </p>
            
            <div class="gamification-demo">
                <div class="level-badge">
                    <i class="fas fa-star"></i>
                    <span id="levelDisplay">ç­‰çº§ 5</span>
                </div>
                
                <div class="demo-controls">
                    <button class="btn btn-warning" onclick="levelUp()">å‡çº§</button>
                    <button class="btn btn-success" onclick="unlockAchievement()">è§£é”æˆå°±</button>
                    <button class="btn btn-primary" onclick="showReward()">è·å¾—å¥–åŠ±</button>
                </div>
                
                <div class="achievement-grid">
                    <div class="achievement-item unlocked" data-achievement="first-lesson">
                        <div class="achievement-icon"><i class="fas fa-book"></i></div>
                        <div>ç¬¬ä¸€è¯¾</div>
                    </div>
                    <div class="achievement-item unlocked" data-achievement="perfect-score">
                        <div class="achievement-icon"><i class="fas fa-star"></i></div>
                        <div>æ»¡åˆ†</div>
                    </div>
                    <div class="achievement-item" data-achievement="week-streak">
                        <div class="achievement-icon"><i class="fas fa-fire"></i></div>
                        <div>è¿ç»­ä¸€å‘¨</div>
                    </div>
                    <div class="achievement-item" data-achievement="master">
                        <div class="achievement-icon"><i class="fas fa-crown"></i></div>
                        <div>å¤§å¸ˆçº§</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- åŠ è½½åŠ¨ç”»æ¼”ç¤º -->
        <section class="demo-section">
            <h2 class="demo-title">
                <i class="fas fa-spinner"></i>
                åŠ è½½åŠ¨ç”»
            </h2>
            <p class="demo-description">
                å±•ç¤ºä¸åŒç±»å‹çš„åŠ è½½åŠ¨ç”»æ•ˆæœã€‚
            </p>
            
            <div class="demo-controls">
                <button class="btn btn-primary" onclick="showLoading('spinner')">æ—‹è½¬åŠ è½½</button>
                <button class="btn btn-primary" onclick="showLoading('dots')">ç‚¹çŠ¶åŠ è½½</button>
                <button class="btn btn-primary" onclick="showLoading('progress')">è¿›åº¦åŠ è½½</button>
                <button class="btn btn-secondary" onclick="hideLoading()">åœæ­¢åŠ è½½</button>
            </div>
            
            <div class="demo-playground" id="loadingPlayground">
                <p style="color: var(--text-secondary);">ç‚¹å‡»æŒ‰é’®æŸ¥çœ‹åŠ è½½åŠ¨ç”»</p>
            </div>
        </section>
    </div>

    <!-- æ¨¡æ€æ¡† -->
    <div class="modal-demo" id="demoModal">
        <div class="modal-backdrop" onclick="hideModal()"></div>
        <div class="modal-content">
            <h3 style="margin-bottom: var(--spacing-4); color: var(--text-primary);">æ¼”ç¤ºæ¨¡æ€æ¡†</h3>
            <p style="color: var(--text-secondary); margin-bottom: var(--spacing-4);">è¿™æ˜¯ä¸€ä¸ªå¸¦æœ‰åŠ¨ç”»æ•ˆæœçš„æ¨¡æ€æ¡†æ¼”ç¤ºã€‚</p>
            <div style="text-align: right;">
                <button class="btn btn-secondary" onclick="hideModal()">å…³é—­</button>
                <button class="btn btn-primary" onclick="hideModal()">ç¡®å®š</button>
            </div>
        </div>
    </div>

    <!-- é€šçŸ¥å®¹å™¨ -->
    <div class="notification-container"></div>

    <!-- JavaScript -->
    <script src="interactions.js"></script>
    <script>
        // æ¼”ç¤ºåŠŸèƒ½å®ç°
        let currentLevel = 5;
        let currentScore = 85;
        let currentProgress = 60;
        let loadingElement = null;
        
        // åŠ¨ç”»è§¦å‘å‡½æ•°
        function triggerAnimation(animationType) {
            const target = document.getElementById('animationTarget');
            
            // æ¸…é™¤ä¹‹å‰çš„åŠ¨ç”»ç±»
            target.className = 'demo-target';
            
            // å¼ºåˆ¶é‡ç»˜
            target.offsetHeight;
            
            // æ·»åŠ æ–°åŠ¨ç”»
            interactionManager.addAnimation(target, animationType);
        }
        
        function resetAnimation() {
            const target = document.getElementById('animationTarget');
            target.className = 'demo-target';
            target.style.transform = '';
            target.style.opacity = '';
        }
        
        // æ³¢çº¹æ•ˆæœ
        function createRipple(event) {
            interactionManager.createRippleEffect(event.currentTarget, event);
        }
        
        // æˆç»©æ›´æ–°
        function updateScore(newScore) {
            const scoreEl = document.getElementById('scoreDemo');
            const oldScore = currentScore;
            currentScore = newScore;
            
            // è§¦å‘æˆç»©æ›´æ–°äº‹ä»¶
            const event = new CustomEvent('scoreUpdate', {
                detail: { element: scoreEl, newScore, oldScore }
            });
            scoreEl.dispatchEvent(event);
            
            // æ›´æ–°æ˜¾ç¤º
            interactionManager.animateDataUpdate(scoreEl, newScore, oldScore);
        }
        
        // è¿›åº¦æ›´æ–°
        function updateProgress() {
            currentProgress = Math.min(currentProgress + 20, 90);
            const progressEl = document.getElementById('progressDemo');
            const progressBar = progressEl.querySelector('.progress-bar');
            
            progressBar.style.width = currentProgress + '%';
            
            // è§¦å‘è¿›åº¦æ›´æ–°äº‹ä»¶
            const event = new CustomEvent('progressUpdate', {
                detail: { element: progressEl, progress: currentProgress }
            });
            progressEl.dispatchEvent(event);
        }
        
        function completeProgress() {
            currentProgress = 100;
            const progressEl = document.getElementById('progressDemo');
            const progressBar = progressEl.querySelector('.progress-bar');
            
            progressBar.style.width = '100%';
            
            // è§¦å‘å®Œæˆäº‹ä»¶
            setTimeout(() => {
                interactionManager.addAnimation(progressEl, 'progress-celebration');
                educationInteractions.showCompletionEffect(progressEl);
            }, 500);
        }
        
        // AIåé¦ˆ
        function showAIFeedback() {
            const aiDemo = document.getElementById('aiDemo');
            const messages = [
                'å¾ˆå¥½ï¼ä½ çš„å­¦ä¹ è¿›åº¦å¾ˆç¨³å®šã€‚',
                'å»ºè®®åŠ å¼ºç»ƒä¹ è–„å¼±ç¯èŠ‚ã€‚',
                'æ­å–œï¼ä½ å·²ç»æŒæ¡äº†è¿™ä¸ªçŸ¥è¯†ç‚¹ã€‚',
                'ç»§ç»­ä¿æŒï¼Œä½ åšå¾—å¾ˆæ£’ï¼'
            ];
            
            const message = messages[Math.floor(Math.random() * messages.length)];
            
            // è§¦å‘AIåé¦ˆäº‹ä»¶
            const event = new CustomEvent('aiFeedback', {
                detail: { element: aiDemo, type: 'positive', message }
            });
            aiDemo.dispatchEvent(event);
            
            // æ‰“å­—æœºæ•ˆæœ
            const messageEl = aiDemo.querySelector('.ai-message');
            educationInteractions.typewriterEffect(messageEl, message);
        }
        
        // é€šçŸ¥ç³»ç»Ÿ
        function showNotification(message, type) {
            interactionManager.showNotification(message, type);
        }
        
        // æ¨¡æ€æ¡†
        function showModal() {
            const modal = document.getElementById('demoModal');
            interactionManager.showModal(modal);
        }
        
        function hideModal() {
            const modal = document.getElementById('demoModal');
            interactionManager.hideModal(modal);
        }
        
        // æ¸¸æˆåŒ–å…ƒç´ 
        function levelUp() {
            currentLevel++;
            document.getElementById('levelDisplay').textContent = `ç­‰çº§ ${currentLevel}`;
            
            // è§¦å‘å‡çº§äº‹ä»¶
            const event = new CustomEvent('levelUp', {
                detail: { level: currentLevel }
            });
            document.dispatchEvent(event);
        }
        
        function unlockAchievement() {
            const locked = document.querySelector('.achievement-item:not(.unlocked)');
            if (locked) {
                locked.classList.add('unlocked');
                interactionManager.addAnimation(locked, 'bounce-in');
                
                // è§¦å‘æˆå°±äº‹ä»¶
                const achievement = locked.dataset.achievement;
                const titles = {
                    'week-streak': 'è¿ç»­å­¦ä¹ ä¸€å‘¨',
                    'master': 'å­¦ä¹ å¤§å¸ˆ'
                };
                
                const event = new CustomEvent('achievement', {
                    detail: {
                        type: achievement,
                        title: titles[achievement] || 'æ–°æˆå°±',
                        description: 'æ­å–œè§£é”æ–°æˆå°±ï¼'
                    }
                });
                document.dispatchEvent(event);
            }
        }
        
        function showReward() {
            interactionManager.showNotification('ğŸ‰ è·å¾— 50 å­¦ä¹ ç§¯åˆ†ï¼', 'success', 3000);
        }
        
        // åŠ è½½åŠ¨ç”»
        function showLoading(type) {
            const playground = document.getElementById('loadingPlayground');
            
            // æ¸…é™¤ä¹‹å‰çš„åŠ è½½åŠ¨ç”»
            if (loadingElement) {
                loadingElement.remove();
            }
            
            // åˆ›å»ºæ–°çš„åŠ è½½åŠ¨ç”»
            loadingElement = interactionManager.createLoadingAnimation(playground, type);
        }
        
        function hideLoading() {
            if (loadingElement) {
                interactionManager.removeLoadingAnimation(loadingElement);
                loadingElement = null;
            }
        }
        
        // è®¾ç½®é¢æ¿
        function initSettings() {
            const reducedMotionSwitch = document.getElementById('reducedMotionSwitch');
            const soundSwitch = document.getElementById('soundSwitch');
            const vibrationSwitch = document.getElementById('vibrationSwitch');
            
            // åˆå§‹åŒ–å¼€å…³çŠ¶æ€
            if (interactionManager.preferences.reducedMotion) {
                reducedMotionSwitch.classList.add('active');
            }
            if (interactionManager.preferences.enableSounds) {
                soundSwitch.classList.add('active');
            }
            if (interactionManager.preferences.enableVibration) {
                vibrationSwitch.classList.add('active');
            }
            
            // ç»‘å®šäº‹ä»¶
            reducedMotionSwitch.addEventListener('click', () => {
                reducedMotionSwitch.classList.toggle('active');
                const enabled = reducedMotionSwitch.classList.contains('active');
                interactionManager.preferences.reducedMotion = enabled;
                
                if (enabled) {
                    interactionManager.disableAnimations();
                } else {
                    interactionManager.enableAnimations();
                }
                
                interactionManager.saveUserPreferences();
            });
            
            soundSwitch.addEventListener('click', () => {
                soundSwitch.classList.toggle('active');
                interactionManager.preferences.enableSounds = soundSwitch.classList.contains('active');
                interactionManager.saveUserPreferences();
            });
            
            vibrationSwitch.addEventListener('click', () => {
                vibrationSwitch.classList.toggle('active');
                interactionManager.preferences.enableVibration = vibrationSwitch.classList.contains('active');
                interactionManager.saveUserPreferences();
            });
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            initSettings();
            
            // æ·»åŠ æ»šåŠ¨åŠ¨ç”»
            document.querySelectorAll('.demo-section').forEach((section, index) => {
                section.dataset.animateOnScroll = 'fade-in-up';
                section.dataset.animateDelay = index * 100;
            });
            
            // é‡æ–°è§‚å¯Ÿå…ƒç´ 
            interactionManager.setupAnimationObserver();
        });
        
        // é”®ç›˜å¿«æ·é”®æ¼”ç¤º
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                hideModal();
            }
        });
    </script>
</body>
</html>