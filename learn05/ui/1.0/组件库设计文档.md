# 智能教学助手组件库设计文档

## 1. 组件库概述

### 1.1 设计目标
- **一致性**：确保整个应用的视觉和交互一致性
- **复用性**：提高开发效率，减少重复代码
- **可维护性**：统一管理组件，便于更新和维护
- **可扩展性**：支持主题定制和功能扩展

### 1.2 组件分类
- **基础组件**：按钮、输入框、选择器等基础UI元素
- **布局组件**：容器、栅格、分割线等布局相关组件
- **导航组件**：菜单、面包屑、分页等导航组件
- **数据展示组件**：表格、图表、卡片等数据展示组件
- **反馈组件**：消息提示、对话框、加载状态等反馈组件
- **业务组件**：成绩录入、学生选择器等业务特定组件

### 1.3 命名规范
- **组件名称**：使用PascalCase，如Button、DataTable
- **属性名称**：使用camelCase，如primaryColor、isDisabled
- **CSS类名**：使用BEM命名法，如.btn__primary--disabled
- **文件命名**：使用kebab-case，如button.vue、data-table.vue

## 2. 基础组件

### 2.1 Button 按钮组件

#### 组件变体
```typescript
interface ButtonProps {
  type: 'primary' | 'secondary' | 'danger' | 'text' | 'link'
  size: 'small' | 'medium' | 'large'
  disabled: boolean
  loading: boolean
  icon?: string
  block: boolean
  onClick: () => void
}
```

#### 设计规范

**主要按钮 (Primary)**
- 背景色：#4A90E2
- 文字色：#FFFFFF
- 高度：small(32px), medium(40px), large(48px)
- 内边距：small(8px 16px), medium(12px 24px), large(16px 32px)
- 圆角：4px
- 字体：14px, 粗体

**次要按钮 (Secondary)**
- 背景色：透明
- 边框：1px solid #4A90E2
- 文字色：#4A90E2
- 其他属性同主要按钮

**危险按钮 (Danger)**
- 背景色：#DC3545
- 文字色：#FFFFFF
- 其他属性同主要按钮

**文字按钮 (Text)**
- 背景色：透明
- 文字色：#4A90E2
- 无边框
- 悬停：背景色rgba(74, 144, 226, 0.1)

**链接按钮 (Link)**
- 样式同文字按钮
- 悬停：下划线

#### 状态设计
- **默认状态**：正常显示
- **悬停状态**：背景色加深10%，cursor: pointer
- **激活状态**：背景色加深20%
- **禁用状态**：opacity: 0.6, cursor: not-allowed
- **加载状态**：显示旋转图标，禁用点击

#### 使用示例
```vue
<Button type="primary" size="medium" @click="handleClick">
  确认提交
</Button>

<Button type="secondary" icon="edit" :loading="isLoading">
  编辑
</Button>
```

### 2.2 Input 输入框组件

#### 组件变体
```typescript
interface InputProps {
  type: 'text' | 'password' | 'number' | 'email' | 'search'
  size: 'small' | 'medium' | 'large'
  placeholder: string
  disabled: boolean
  readonly: boolean
  clearable: boolean
  prefix?: string
  suffix?: string
  maxLength?: number
  showCount: boolean
  value: string
  onInput: (value: string) => void
  onFocus: () => void
  onBlur: () => void
}
```

#### 设计规范
- **高度**：small(32px), medium(40px), large(48px)
- **边框**：1px solid #E0E0E0
- **圆角**：4px
- **内边距**：12px 16px
- **字体**：14px, 常规
- **占位符颜色**：#999999

#### 状态设计
- **默认状态**：边框#E0E0E0
- **聚焦状态**：边框#4A90E2，阴影0 0 0 2px rgba(74, 144, 226, 0.2)
- **错误状态**：边框#DC3545，阴影0 0 0 2px rgba(220, 53, 69, 0.2)
- **禁用状态**：背景色#F8F9FA，文字色#999999
- **只读状态**：背景色#F8F9FA，边框#E0E0E0

#### 功能特性
- **清除功能**：输入内容时显示清除图标
- **字符计数**：显示当前字符数/最大字符数
- **前后缀**：支持图标或文字前后缀
- **密码显示**：密码类型支持显示/隐藏切换

### 2.3 Select 选择器组件

#### 组件变体
```typescript
interface SelectProps {
  options: Array<{label: string, value: any, disabled?: boolean}>
  value: any
  multiple: boolean
  searchable: boolean
  clearable: boolean
  placeholder: string
  disabled: boolean
  size: 'small' | 'medium' | 'large'
  onChange: (value: any) => void
}
```

#### 设计规范
- **基础样式**：与Input组件保持一致
- **下拉图标**：右侧箭头图标，12px
- **下拉面板**：白色背景，圆角4px，阴影0 4px 8px rgba(0,0,0,0.15)
- **选项高度**：40px
- **选项内边距**：12px 16px

#### 选项状态
- **默认状态**：白色背景
- **悬停状态**：背景色#F8F9FA
- **选中状态**：背景色#E3F2FD，文字色#4A90E2
- **禁用状态**：文字色#999999，不可点击

#### 多选模式
- **标签样式**：圆角标签，主题色背景
- **标签间距**：4px
- **删除图标**：标签右侧×图标
- **折叠显示**：超过3个标签时显示"+N"

### 2.4 Checkbox 复选框组件

#### 组件变体
```typescript
interface CheckboxProps {
  checked: boolean
  indeterminate: boolean
  disabled: boolean
  label: string
  value: any
  onChange: (checked: boolean, value: any) => void
}
```

#### 设计规范
- **尺寸**：16px × 16px
- **边框**：1px solid #E0E0E0
- **圆角**：2px
- **选中背景**：#4A90E2
- **选中图标**：白色对勾，12px
- **标签间距**：与复选框8px间距

#### 状态设计
- **未选中**：白色背景，灰色边框
- **选中**：主题色背景，白色对勾
- **半选中**：主题色背景，白色横线
- **禁用**：灰色背景，不可点击

### 2.5 Radio 单选框组件

#### 组件变体
```typescript
interface RadioProps {
  checked: boolean
  disabled: boolean
  label: string
  value: any
  name: string
  onChange: (value: any) => void
}
```

#### 设计规范
- **尺寸**：16px × 16px
- **形状**：圆形
- **边框**：1px solid #E0E0E0
- **选中样式**：主题色边框，内部白色圆点
- **标签间距**：与单选框8px间距

### 2.6 Switch 开关组件

#### 组件变体
```typescript
interface SwitchProps {
  checked: boolean
  disabled: boolean
  size: 'small' | 'medium'
  checkedText?: string
  uncheckedText?: string
  onChange: (checked: boolean) => void
}
```

#### 设计规范
- **尺寸**：medium(44px × 24px), small(32px × 18px)
- **圆角**：圆形
- **未选中**：背景色#E0E0E0，滑块白色
- **选中**：背景色#4A90E2，滑块白色
- **动画**：0.3s ease-in-out过渡

## 3. 布局组件

### 3.1 Container 容器组件

#### 组件变体
```typescript
interface ContainerProps {
  fluid: boolean
  maxWidth: 'sm' | 'md' | 'lg' | 'xl' | number
  padding: boolean
  className?: string
}
```

#### 设计规范
- **最大宽度**：sm(576px), md(768px), lg(992px), xl(1200px)
- **居中对齐**：margin: 0 auto
- **内边距**：padding: 0 24px（可选）
- **响应式**：根据屏幕尺寸自动调整

### 3.2 Grid 栅格组件

#### Row 行组件
```typescript
interface RowProps {
  gutter: number | [number, number]
  justify: 'start' | 'end' | 'center' | 'space-around' | 'space-between'
  align: 'top' | 'middle' | 'bottom'
  wrap: boolean
}
```

#### Col 列组件
```typescript
interface ColProps {
  span: number
  offset: number
  push: number
  pull: number
  xs?: number | ColSize
  sm?: number | ColSize
  md?: number | ColSize
  lg?: number | ColSize
  xl?: number | ColSize
}
```

#### 设计规范
- **总列数**：12列
- **间距**：默认24px，可自定义
- **响应式断点**：xs(<576px), sm(≥576px), md(≥768px), lg(≥992px), xl(≥1200px)

### 3.3 Card 卡片组件

#### 组件变体
```typescript
interface CardProps {
  title?: string
  extra?: ReactNode
  bordered: boolean
  hoverable: boolean
  loading: boolean
  size: 'small' | 'default'
  bodyStyle?: CSSProperties
}
```

#### 设计规范
- **背景色**：#FFFFFF
- **边框**：1px solid #E0E0E0（可选）
- **圆角**：8px
- **阴影**：0 4px 8px rgba(0,0,0,0.15)
- **内边距**：default(24px), small(16px)

#### 卡片结构
- **头部**：标题 + 额外操作
- **主体**：主要内容区域
- **底部**：操作按钮区域（可选）

### 3.4 Divider 分割线组件

#### 组件变体
```typescript
interface DividerProps {
  type: 'horizontal' | 'vertical'
  dashed: boolean
  orientation: 'left' | 'center' | 'right'
  children?: ReactNode
}
```

#### 设计规范
- **颜色**：#E0E0E0
- **粗细**：1px
- **样式**：实线或虚线
- **文字分割线**：支持文字说明

## 4. 导航组件

### 4.1 Menu 菜单组件

#### 组件变体
```typescript
interface MenuProps {
  mode: 'horizontal' | 'vertical' | 'inline'
  theme: 'light' | 'dark'
  selectedKeys: string[]
  openKeys: string[]
  collapsed: boolean
  onSelect: (keys: string[]) => void
  onOpenChange: (keys: string[]) => void
}
```

#### 设计规范

**水平菜单**
- **高度**：64px
- **背景色**：light(#FFFFFF), dark(#2C3E50)
- **文字色**：light(#333333), dark(#FFFFFF)
- **激活状态**：下边框2px，主题色

**垂直菜单**
- **宽度**：240px（展开），64px（收起）
- **项目高度**：48px
- **激活状态**：背景色#4A90E2，文字色#FFFFFF

**子菜单**
- **缩进**：24px
- **展开图标**：右侧箭头
- **动画**：0.3s ease-in-out

### 4.2 Breadcrumb 面包屑组件

#### 组件变体
```typescript
interface BreadcrumbProps {
  separator: string | ReactNode
  routes: Array<{path: string, breadcrumbName: string}>
  itemRender?: (route: any, params: any, routes: any[], paths: string[]) => ReactNode
}
```

#### 设计规范
- **分隔符**：默认"/"，可自定义
- **链接样式**：#4A90E2，悬停下划线
- **当前页**：#333333，不可点击
- **字体**：14px，常规

### 4.3 Pagination 分页组件

#### 组件变体
```typescript
interface PaginationProps {
  current: number
  total: number
  pageSize: number
  showSizeChanger: boolean
  showQuickJumper: boolean
  showTotal: (total: number, range: [number, number]) => ReactNode
  onChange: (page: number, pageSize: number) => void
}
```

#### 设计规范
- **按钮尺寸**：32px × 32px
- **间距**：8px
- **当前页**：主题色背景，白色文字
- **禁用状态**：灰色，不可点击
- **省略号**：超过7页时显示省略号

## 5. 数据展示组件

### 5.1 Table 表格组件

#### 组件变体
```typescript
interface TableProps {
  columns: ColumnType[]
  dataSource: any[]
  rowKey: string | ((record: any) => string)
  pagination: PaginationProps | false
  loading: boolean
  size: 'small' | 'middle' | 'large'
  bordered: boolean
  rowSelection?: RowSelectionType
  scroll?: {x?: number, y?: number}
  onChange: (pagination: any, filters: any, sorter: any) => void
}

interface ColumnType {
  title: string
  dataIndex: string
  key: string
  width?: number
  fixed?: 'left' | 'right'
  sorter?: boolean | ((a: any, b: any) => number)
  filters?: Array<{text: string, value: any}>
  render?: (value: any, record: any, index: number) => ReactNode
}
```

#### 设计规范

**表头**
- **背景色**：#F8F9FA
- **文字色**：#333333
- **字重**：600
- **高度**：small(40px), middle(48px), large(56px)
- **边框**：1px solid #E0E0E0

**表格行**
- **高度**：small(48px), middle(56px), large(64px)
- **边框**：1px solid #E0E0E0
- **悬停背景**：#F8F9FA
- **选中背景**：#E3F2FD
- **斑马纹**：奇数行#FAFAFA（可选）

**排序功能**
- **排序图标**：上下箭头，默认灰色
- **排序状态**：升序/降序，图标主题色
- **多列排序**：支持优先级显示

**筛选功能**
- **筛选图标**：漏斗图标，表头右侧
- **筛选面板**：下拉面板，复选框列表
- **筛选状态**：已筛选列图标主题色

### 5.2 List 列表组件

#### 组件变体
```typescript
interface ListProps {
  dataSource: any[]
  renderItem: (item: any, index: number) => ReactNode
  loading: boolean
  pagination: PaginationProps | false
  grid?: {gutter?: number, column?: number, xs?: number, sm?: number, md?: number, lg?: number, xl?: number, xxl?: number}
  split: boolean
  size: 'small' | 'default' | 'large'
}
```

#### 设计规范
- **项目间距**：small(8px), default(16px), large(24px)
- **分割线**：1px solid #E0E0E0（可选）
- **网格布局**：支持响应式网格
- **加载状态**：骨架屏或加载图标

### 5.3 Avatar 头像组件

#### 组件变体
```typescript
interface AvatarProps {
  size: number | 'small' | 'default' | 'large'
  shape: 'circle' | 'square'
  src?: string
  icon?: ReactNode
  alt?: string
  children?: ReactNode
  onClick?: () => void
}
```

#### 设计规范
- **尺寸**：small(24px), default(32px), large(40px)
- **形状**：圆形或方形
- **默认背景**：#F0F0F0
- **文字头像**：首字母大写，居中显示
- **图片头像**：object-fit: cover

### 5.4 Badge 徽标组件

#### 组件变体
```typescript
interface BadgeProps {
  count: number
  showZero: boolean
  overflowCount: number
  dot: boolean
  status: 'success' | 'processing' | 'default' | 'error' | 'warning'
  color?: string
  text?: string
  offset?: [number, number]
}
```

#### 设计规范
- **尺寸**：最小20px × 20px
- **背景色**：#FF4D4F（数字徽标）
- **文字色**：#FFFFFF
- **字体**：12px，粗体
- **圆角**：圆形
- **位置**：右上角偏移

## 6. 反馈组件

### 6.1 Message 消息提示组件

#### 组件变体
```typescript
interface MessageProps {
  type: 'success' | 'error' | 'warning' | 'info' | 'loading'
  content: string
  duration: number
  onClose?: () => void
}
```

#### 设计规范
- **位置**：屏幕顶部居中
- **背景色**：白色
- **阴影**：0 4px 12px rgba(0,0,0,0.15)
- **圆角**：4px
- **内边距**：12px 16px
- **图标**：类型对应的彩色图标
- **动画**：从上方滑入，淡出消失

#### 类型样式
- **成功**：绿色图标，绿色边框
- **错误**：红色图标，红色边框
- **警告**：黄色图标，黄色边框
- **信息**：蓝色图标，蓝色边框
- **加载**：旋转图标，蓝色边框

### 6.2 Modal 对话框组件

#### 组件变体
```typescript
interface ModalProps {
  visible: boolean
  title: string
  width: number | string
  centered: boolean
  closable: boolean
  maskClosable: boolean
  keyboard: boolean
  footer: ReactNode | null
  onOk?: () => void
  onCancel?: () => void
  afterClose?: () => void
}
```

#### 设计规范
- **遮罩层**：rgba(0,0,0,0.45)
- **对话框背景**：白色
- **圆角**：8px
- **阴影**：0 8px 16px rgba(0,0,0,0.2)
- **最大宽度**：90vw
- **最大高度**：90vh

#### 对话框结构
- **头部**：标题 + 关闭按钮
- **主体**：内容区域，可滚动
- **底部**：操作按钮，右对齐

### 6.3 Notification 通知提醒组件

#### 组件变体
```typescript
interface NotificationProps {
  type: 'success' | 'error' | 'warning' | 'info'
  title: string
  description?: string
  duration: number
  placement: 'topLeft' | 'topRight' | 'bottomLeft' | 'bottomRight'
  onClose?: () => void
}
```

#### 设计规范
- **位置**：屏幕四角，默认右上角
- **宽度**：384px
- **背景色**：白色
- **阴影**：0 4px 12px rgba(0,0,0,0.15)
- **圆角**：8px
- **内边距**：16px 24px

### 6.4 Loading 加载组件

#### 组件变体
```typescript
interface LoadingProps {
  spinning: boolean
  size: 'small' | 'default' | 'large'
  tip?: string
  delay?: number
  indicator?: ReactNode
}
```

#### 设计规范
- **旋转图标**：主题色，smooth动画
- **尺寸**：small(14px), default(20px), large(32px)
- **提示文字**：图标下方，灰色
- **遮罩层**：rgba(255,255,255,0.8)

## 7. 业务组件

### 7.1 StudentSelector 学生选择器

#### 组件功能
- **学生列表**：展示班级所有学生
- **搜索功能**：按姓名、学号搜索
- **批量选择**：支持全选、反选
- **分组显示**：按班级分组
- **头像展示**：学生头像和基本信息

#### 设计规范
- **列表项高度**：56px
- **头像尺寸**：40px，圆形
- **信息布局**：头像 + 姓名 + 学号
- **选择状态**：复选框 + 高亮背景

### 7.2 GradeInput 成绩录入组件

#### 组件功能
- **表格录入**：学生列表 + 成绩列
- **数据验证**：成绩范围验证
- **批量操作**：批量设置、清空
- **导入导出**：Excel文件处理
- **实时统计**：平均分、最高分等

#### 设计规范
- **输入框样式**：无边框，聚焦时显示边框
- **验证状态**：错误时红色边框
- **统计区域**：表格底部，卡片样式
- **操作按钮**：表格顶部，右对齐

### 7.3 ChartContainer 图表容器

#### 组件功能
- **图表类型**：柱状图、折线图、饼图、雷达图
- **数据绑定**：动态数据更新
- **交互功能**：悬停提示、点击筛选
- **导出功能**：图片、PDF导出
- **响应式**：自适应容器尺寸

#### 设计规范
- **容器背景**：白色
- **图表边距**：24px
- **标题样式**：16px，粗体，居中
- **图例位置**：右侧或底部
- **颜色方案**：使用主题色系

### 7.4 FileUpload 文件上传组件

#### 组件功能
- **拖拽上传**：支持文件拖拽
- **批量上传**：多文件同时上传
- **进度显示**：上传进度条
- **文件预览**：图片、文档预览
- **格式限制**：文件类型和大小限制

#### 设计规范
- **上传区域**：虚线边框，居中图标和文字
- **文件列表**：文件名 + 大小 + 状态
- **进度条**：主题色，圆角
- **操作按钮**：删除、重新上传

## 8. 主题定制

### 8.1 主题变量

```scss
// 主色调
$primary-color: #4A90E2;
$secondary-color: #7ED321;
$accent-color: #F5A623;

// 功能色彩
$success-color: #28A745;
$warning-color: #FFC107;
$error-color: #DC3545;
$info-color: #17A2B8;

// 中性色彩
$text-primary: #333333;
$text-secondary: #666666;
$text-tertiary: #999999;
$border-color: #E0E0E0;
$background-color: #F8F9FA;

// 字体
$font-family: 'Microsoft YaHei', 'PingFang SC', sans-serif;
$font-size-base: 14px;
$line-height-base: 1.5;

// 间距
$spacing-unit: 8px;
$border-radius-base: 4px;
$box-shadow-base: 0 4px 8px rgba(0,0,0,0.15);
```

### 8.2 暗色主题

```scss
// 暗色主题变量
$dark-bg-primary: #1F1F1F;
$dark-bg-secondary: #2D2D2D;
$dark-text-primary: #FFFFFF;
$dark-text-secondary: #CCCCCC;
$dark-border-color: #404040;
```

### 8.3 主题切换

```typescript
interface ThemeConfig {
  primaryColor: string
  borderRadius: number
  fontSize: number
  mode: 'light' | 'dark'
}

// 主题提供者
const ThemeProvider: React.FC<{theme: ThemeConfig, children: ReactNode}>

// 主题钩子
const useTheme = (): ThemeConfig
const useThemeMode = (): [string, (mode: string) => void]
```

## 9. 组件开发规范

### 9.1 代码结构

```
components/
├── Button/
│   ├── index.tsx          # 组件入口
│   ├── Button.tsx         # 组件实现
│   ├── Button.module.scss # 组件样式
│   ├── Button.test.tsx    # 单元测试
│   └── Button.stories.tsx # Storybook文档
├── Input/
└── ...
```

### 9.2 TypeScript规范

```typescript
// 组件Props接口
interface ButtonProps {
  /** 按钮类型 */
  type?: 'primary' | 'secondary' | 'danger'
  /** 按钮尺寸 */
  size?: 'small' | 'medium' | 'large'
  /** 是否禁用 */
  disabled?: boolean
  /** 点击事件 */
  onClick?: (event: MouseEvent<HTMLButtonElement>) => void
  /** 子元素 */
  children: ReactNode
}

// 组件实现
const Button: React.FC<ButtonProps> = ({
  type = 'primary',
  size = 'medium',
  disabled = false,
  onClick,
  children,
  ...rest
}) => {
  // 组件逻辑
}

export default Button
export type { ButtonProps }
```

### 9.3 样式规范

```scss
// 使用CSS Modules
.button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border: none;
  border-radius: var(--border-radius-base);
  cursor: pointer;
  transition: all 0.3s ease;
  
  &:focus {
    outline: none;
    box-shadow: 0 0 0 2px rgba(var(--primary-color-rgb), 0.2);
  }
  
  &.primary {
    background-color: var(--primary-color);
    color: #ffffff;
    
    &:hover {
      background-color: var(--primary-color-hover);
    }
  }
  
  &.disabled {
    opacity: 0.6;
    cursor: not-allowed;
    
    &:hover {
      background-color: var(--primary-color);
    }
  }
}
```

### 9.4 测试规范

```typescript
import { render, screen, fireEvent } from '@testing-library/react'
import Button from './Button'

describe('Button', () => {
  it('renders correctly', () => {
    render(<Button>Click me</Button>)
    expect(screen.getByRole('button')).toBeInTheDocument()
  })
  
  it('handles click events', () => {
    const handleClick = jest.fn()
    render(<Button onClick={handleClick}>Click me</Button>)
    
    fireEvent.click(screen.getByRole('button'))
    expect(handleClick).toHaveBeenCalledTimes(1)
  })
  
  it('applies disabled state', () => {
    render(<Button disabled>Click me</Button>)
    expect(screen.getByRole('button')).toBeDisabled()
  })
})
```

## 10. 文档和维护

### 10.1 组件文档

每个组件需要包含：
- **API文档**：Props、方法、事件说明
- **使用示例**：基础用法和高级用法
- **设计指南**：何时使用、最佳实践
- **可访问性**：键盘导航、屏幕阅读器支持

### 10.2 版本管理

- **语义化版本**：遵循SemVer规范
- **变更日志**：记录每个版本的变更
- **迁移指南**：破坏性变更的迁移说明
- **废弃通知**：提前通知即将废弃的API

### 10.3 性能优化

- **按需加载**：支持Tree Shaking
- **代码分割**：大型组件支持动态导入
- **缓存策略**：合理使用React.memo和useMemo
- **包大小**：监控和优化包体积

---

本组件库设计文档为智能教学助手提供了完整的UI组件规范，确保了设计的一致性和开发的高效性。