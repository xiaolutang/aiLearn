# 智能教学助手移动端设计指南

## 1. 移动端设计概述

### 1.1 设计理念

#### 移动优先原则
- **内容优先**：优先展示最重要的信息和功能
- **触摸友好**：所有交互元素都针对触摸操作优化
- **单手操作**：考虑用户单手使用的便利性
- **快速访问**：减少操作步骤，提高效率

#### 教育场景适配
- **碎片化学习**：支持短时间、高频次的使用
- **多场景使用**：适应课堂、家庭、通勤等不同环境
- **离线能力**：关键功能支持离线使用
- **家长监督**：便于家长查看和参与

### 1.2 目标设备

#### 主流设备规格
```scss
// 设备断点
$mobile-breakpoints: (
  xs: 320px,  // iPhone SE
  sm: 375px,  // iPhone 12 mini
  md: 414px,  // iPhone 12 Pro Max
  lg: 768px   // iPad mini
);

// 安全区域
$safe-areas: (
  top: env(safe-area-inset-top),
  right: env(safe-area-inset-right),
  bottom: env(safe-area-inset-bottom),
  left: env(safe-area-inset-left)
);
```

#### 性能考虑
- **内存限制**：优化内存使用，避免内存泄漏
- **CPU性能**：减少复杂动画和计算
- **网络条件**：适应不稳定的移动网络
- **电池续航**：优化功耗，延长使用时间

## 2. 布局设计

### 2.1 屏幕适配

#### 视口配置
```html
<!-- 基础视口设置 -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<!-- 状态栏样式 -->
<meta name="theme-color" content="#1890ff">
<meta name="apple-mobile-web-app-status-bar-style" content="default">

<!-- 全屏应用 -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="mobile-web-app-capable" content="yes">
```

#### 安全区域适配
```scss
// 安全区域适配
.mobile-container {
  padding-top: env(safe-area-inset-top);
  padding-right: env(safe-area-inset-right);
  padding-bottom: env(safe-area-inset-bottom);
  padding-left: env(safe-area-inset-left);
  
  // 最小内边距
  padding-top: max(env(safe-area-inset-top), 20px);
  padding-bottom: max(env(safe-area-inset-bottom), 20px);
}

// 状态栏适配
.status-bar-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: env(safe-area-inset-top);
  background: #1890ff;
  z-index: 9999;
}
```

### 2.2 栅格系统

#### 移动端栅格
```scss
// 移动端栅格配置
$mobile-grid: (
  columns: 4,        // 移动端使用4列
  gutter: 16px,      // 间距
  margin: 16px       // 外边距
);

.mobile-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 16px;
  padding: 0 16px;
  
  .grid-item {
    // 跨列类
    &.span-1 { grid-column: span 1; }
    &.span-2 { grid-column: span 2; }
    &.span-3 { grid-column: span 3; }
    &.span-4 { grid-column: span 4; }
  }
}
```

#### 弹性布局
```scss
// 移动端弹性容器
.mobile-flex {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  
  .flex-header {
    flex-shrink: 0;
  }
  
  .flex-content {
    flex: 1;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }
  
  .flex-footer {
    flex-shrink: 0;
  }
}
```

### 2.3 页面结构

#### 标准页面布局
```scss
.mobile-page {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  background: #f5f5f5;
  
  // 顶部导航
  .page-header {
    position: sticky;
    top: 0;
    z-index: 100;
    background: #fff;
    border-bottom: 1px solid #f0f0f0;
    padding: 12px 16px;
    
    .header-content {
      display: flex;
      align-items: center;
      height: 44px;
      
      .back-button {
        width: 44px;
        height: 44px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 8px;
        
        .icon {
          font-size: 20px;
          color: #1890ff;
        }
      }
      
      .page-title {
        flex: 1;
        font-size: 18px;
        font-weight: 600;
        color: #262626;
        text-align: center;
        margin-right: 52px; // 平衡右侧空间
      }
      
      .header-actions {
        display: flex;
        gap: 8px;
        
        .action-button {
          width: 44px;
          height: 44px;
          display: flex;
          align-items: center;
          justify-content: center;
          
          .icon {
            font-size: 20px;
            color: #666;
          }
        }
      }
    }
  }
  
  // 主要内容
  .page-content {
    flex: 1;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    padding: 16px;
  }
  
  // 底部导航
  .page-footer {
    background: #fff;
    border-top: 1px solid #f0f0f0;
    padding-bottom: env(safe-area-inset-bottom);
  }
}
```

## 3. 导航设计

### 3.1 底部标签导航

#### 标签栏设计
```scss
.tab-bar {
  display: flex;
  background: #fff;
  border-top: 1px solid #f0f0f0;
  padding-bottom: env(safe-area-inset-bottom);
  
  .tab-item {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 8px 4px 12px;
    text-decoration: none;
    color: #999;
    transition: color 0.2s ease;
    
    &.active {
      color: #1890ff;
      
      .tab-icon {
        color: #1890ff;
      }
    }
    
    .tab-icon {
      font-size: 24px;
      margin-bottom: 4px;
      transition: color 0.2s ease;
    }
    
    .tab-label {
      font-size: 10px;
      line-height: 1;
    }
    
    .tab-badge {
      position: absolute;
      top: 4px;
      right: 50%;
      transform: translateX(50%);
      background: #ff4d4f;
      color: #fff;
      font-size: 10px;
      padding: 2px 6px;
      border-radius: 10px;
      min-width: 16px;
      text-align: center;
    }
  }
}
```

#### 标签配置
```javascript
// 底部导航配置
const tabBarConfig = [
  {
    key: 'home',
    label: '首页',
    icon: 'home',
    activeIcon: 'home-filled',
    path: '/home'
  },
  {
    key: 'course',
    label: '课程',
    icon: 'book',
    activeIcon: 'book-filled',
    path: '/course'
  },
  {
    key: 'grade',
    label: '成绩',
    icon: 'chart',
    activeIcon: 'chart-filled',
    path: '/grade',
    badge: 3 // 新消息数量
  },
  {
    key: 'profile',
    label: '我的',
    icon: 'user',
    activeIcon: 'user-filled',
    path: '/profile'
  }
];
```

### 3.2 顶部导航

#### 导航栏组件
```scss
.navbar {
  position: sticky;
  top: 0;
  z-index: 100;
  background: #fff;
  border-bottom: 1px solid #f0f0f0;
  
  .navbar-content {
    display: flex;
    align-items: center;
    height: 56px;
    padding: 0 16px;
    
    .navbar-left {
      display: flex;
      align-items: center;
      
      .back-btn {
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 8px;
        border-radius: 8px;
        
        &:active {
          background: #f5f5f5;
        }
        
        .icon {
          font-size: 20px;
          color: #1890ff;
        }
      }
    }
    
    .navbar-center {
      flex: 1;
      text-align: center;
      
      .navbar-title {
        font-size: 18px;
        font-weight: 600;
        color: #262626;
        margin: 0;
      }
    }
    
    .navbar-right {
      display: flex;
      align-items: center;
      gap: 8px;
      
      .action-btn {
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 8px;
        
        &:active {
          background: #f5f5f5;
        }
        
        .icon {
          font-size: 20px;
          color: #666;
        }
      }
    }
  }
}
```

### 3.3 侧边抽屉

#### 抽屉菜单
```scss
.drawer {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1000;
  pointer-events: none;
  
  &.open {
    pointer-events: auto;
    
    .drawer-overlay {
      opacity: 1;
    }
    
    .drawer-content {
      transform: translateX(0);
    }
  }
  
  .drawer-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    opacity: 0;
    transition: opacity 0.3s ease;
  }
  
  .drawer-content {
    position: absolute;
    top: 0;
    left: 0;
    width: 280px;
    height: 100%;
    background: #fff;
    transform: translateX(-100%);
    transition: transform 0.3s ease;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    
    .drawer-header {
      padding: 20px 16px;
      background: #1890ff;
      color: #fff;
      
      .user-avatar {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        margin-bottom: 12px;
      }
      
      .user-name {
        font-size: 18px;
        font-weight: 600;
        margin-bottom: 4px;
      }
      
      .user-role {
        font-size: 14px;
        opacity: 0.8;
      }
    }
    
    .drawer-menu {
      padding: 16px 0;
      
      .menu-item {
        display: flex;
        align-items: center;
        padding: 12px 16px;
        color: #262626;
        text-decoration: none;
        transition: background-color 0.2s ease;
        
        &:active {
          background: #f5f5f5;
        }
        
        .menu-icon {
          width: 24px;
          height: 24px;
          margin-right: 12px;
          font-size: 20px;
          color: #666;
        }
        
        .menu-label {
          flex: 1;
          font-size: 16px;
        }
        
        .menu-arrow {
          font-size: 16px;
          color: #999;
        }
      }
      
      .menu-divider {
        height: 1px;
        background: #f0f0f0;
        margin: 8px 16px;
      }
    }
  }
}
```

## 4. 触摸交互

### 4.1 触摸目标

#### 最小触摸尺寸
```scss
// 触摸目标最小尺寸
$touch-target-min: 44px;

.touch-target {
  min-width: $touch-target-min;
  min-height: $touch-target-min;
  display: flex;
  align-items: center;
  justify-content: center;
  
  // 触摸反馈
  &:active {
    background: rgba(0, 0, 0, 0.05);
    transform: scale(0.95);
  }
}

// 按钮样式
.mobile-button {
  min-height: 48px;
  padding: 12px 24px;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 500;
  border: none;
  cursor: pointer;
  transition: all 0.2s ease;
  
  &.primary {
    background: #1890ff;
    color: #fff;
    
    &:active {
      background: #096dd9;
      transform: translateY(1px);
    }
  }
  
  &.secondary {
    background: #f5f5f5;
    color: #262626;
    
    &:active {
      background: #e6e6e6;
    }
  }
  
  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    
    &:active {
      transform: none;
    }
  }
}
```

### 4.2 手势支持

#### 滑动手势
```javascript
// 滑动手势处理
class SwipeGesture {
  constructor(element, options = {}) {
    this.element = element;
    this.options = {
      threshold: 50,
      restraint: 100,
      allowedTime: 300,
      ...options
    };
    
    this.startX = 0;
    this.startY = 0;
    this.startTime = 0;
    
    this.bindEvents();
  }
  
  bindEvents() {
    this.element.addEventListener('touchstart', this.handleTouchStart.bind(this), { passive: true });
    this.element.addEventListener('touchend', this.handleTouchEnd.bind(this), { passive: true });
  }
  
  handleTouchStart(e) {
    const touch = e.touches[0];
    this.startX = touch.clientX;
    this.startY = touch.clientY;
    this.startTime = Date.now();
  }
  
  handleTouchEnd(e) {
    const touch = e.changedTouches[0];
    const distX = touch.clientX - this.startX;
    const distY = touch.clientY - this.startY;
    const elapsedTime = Date.now() - this.startTime;
    
    if (elapsedTime <= this.options.allowedTime) {
      if (Math.abs(distX) >= this.options.threshold && Math.abs(distY) <= this.options.restraint) {
        const direction = distX > 0 ? 'right' : 'left';
        this.options.onSwipe?.(direction, distX);
      } else if (Math.abs(distY) >= this.options.threshold && Math.abs(distX) <= this.options.restraint) {
        const direction = distY > 0 ? 'down' : 'up';
        this.options.onSwipe?.(direction, distY);
      }
    }
  }
}

// 使用示例
const cardElement = document.querySelector('.swipe-card');
new SwipeGesture(cardElement, {
  onSwipe: (direction, distance) => {
    if (direction === 'left') {
      // 左滑删除
      deleteCard();
    } else if (direction === 'right') {
      // 右滑标记
      markCard();
    }
  }
});
```

#### 长按手势
```javascript
// 长按手势处理
class LongPressGesture {
  constructor(element, options = {}) {
    this.element = element;
    this.options = {
      duration: 500,
      ...options
    };
    
    this.timer = null;
    this.isPressed = false;
    
    this.bindEvents();
  }
  
  bindEvents() {
    this.element.addEventListener('touchstart', this.handleTouchStart.bind(this));
    this.element.addEventListener('touchend', this.handleTouchEnd.bind(this));
    this.element.addEventListener('touchmove', this.handleTouchMove.bind(this));
  }
  
  handleTouchStart(e) {
    this.isPressed = true;
    this.timer = setTimeout(() => {
      if (this.isPressed) {
        this.options.onLongPress?.(e);
      }
    }, this.options.duration);
  }
  
  handleTouchEnd(e) {
    this.isPressed = false;
    if (this.timer) {
      clearTimeout(this.timer);
      this.timer = null;
    }
  }
  
  handleTouchMove(e) {
    this.isPressed = false;
    if (this.timer) {
      clearTimeout(this.timer);
      this.timer = null;
    }
  }
}
```

### 4.3 触摸反馈

#### 视觉反馈
```scss
// 触摸反馈动画
@keyframes touch-ripple {
  0% {
    transform: scale(0);
    opacity: 1;
  }
  100% {
    transform: scale(4);
    opacity: 0;
  }
}

.ripple-effect {
  position: relative;
  overflow: hidden;
  
  &::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 20px;
    height: 20px;
    background: rgba(255, 255, 255, 0.5);
    border-radius: 50%;
    transform: translate(-50%, -50%) scale(0);
    pointer-events: none;
  }
  
  &.ripple-active::after {
    animation: touch-ripple 0.6s ease-out;
  }
}
```

#### 触觉反馈
```javascript
// 触觉反馈
const hapticFeedback = {
  // 轻微震动
  light() {
    if ('vibrate' in navigator) {
      navigator.vibrate(10);
    }
  },
  
  // 中等震动
  medium() {
    if ('vibrate' in navigator) {
      navigator.vibrate(20);
    }
  },
  
  // 强烈震动
  heavy() {
    if ('vibrate' in navigator) {
      navigator.vibrate([30, 10, 30]);
    }
  },
  
  // 成功反馈
  success() {
    if ('vibrate' in navigator) {
      navigator.vibrate([10, 5, 10]);
    }
  },
  
  // 错误反馈
  error() {
    if ('vibrate' in navigator) {
      navigator.vibrate([50, 20, 50, 20, 50]);
    }
  }
};

// 使用示例
document.querySelector('.submit-btn').addEventListener('click', () => {
  hapticFeedback.success();
});
```

## 5. 表单设计

### 5.1 输入控件

#### 文本输入框
```scss
.mobile-input {
  width: 100%;
  min-height: 48px;
  padding: 12px 16px;
  border: 1px solid #d9d9d9;
  border-radius: 8px;
  font-size: 16px; // 防止iOS缩放
  background: #fff;
  transition: border-color 0.2s ease;
  
  &:focus {
    outline: none;
    border-color: #1890ff;
    box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.2);
  }
  
  &::placeholder {
    color: #bfbfbf;
  }
  
  &:disabled {
    background: #f5f5f5;
    color: #bfbfbf;
    cursor: not-allowed;
  }
}

// 输入组
.input-group {
  margin-bottom: 16px;
  
  .input-label {
    display: block;
    margin-bottom: 8px;
    font-size: 14px;
    font-weight: 500;
    color: #262626;
    
    .required {
      color: #ff4d4f;
      margin-left: 4px;
    }
  }
  
  .input-error {
    margin-top: 4px;
    font-size: 12px;
    color: #ff4d4f;
  }
  
  .input-help {
    margin-top: 4px;
    font-size: 12px;
    color: #999;
  }
}
```

#### 选择器
```scss
.mobile-select {
  position: relative;
  
  .select-trigger {
    width: 100%;
    min-height: 48px;
    padding: 12px 40px 12px 16px;
    border: 1px solid #d9d9d9;
    border-radius: 8px;
    background: #fff;
    font-size: 16px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: space-between;
    
    .select-value {
      flex: 1;
      
      &.placeholder {
        color: #bfbfbf;
      }
    }
    
    .select-arrow {
      font-size: 12px;
      color: #999;
      transition: transform 0.2s ease;
    }
    
    &.open .select-arrow {
      transform: rotate(180deg);
    }
  }
  
  .select-dropdown {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: #fff;
    border: 1px solid #d9d9d9;
    border-top: none;
    border-radius: 0 0 8px 8px;
    max-height: 200px;
    overflow-y: auto;
    z-index: 1000;
    
    .select-option {
      padding: 12px 16px;
      cursor: pointer;
      transition: background-color 0.2s ease;
      
      &:hover {
        background: #f5f5f5;
      }
      
      &.selected {
        background: #e6f7ff;
        color: #1890ff;
      }
    }
  }
}
```

### 5.2 表单布局

#### 垂直表单
```scss
.mobile-form {
  padding: 16px;
  
  .form-section {
    margin-bottom: 24px;
    
    .section-title {
      font-size: 16px;
      font-weight: 600;
      color: #262626;
      margin-bottom: 16px;
      padding-bottom: 8px;
      border-bottom: 1px solid #f0f0f0;
    }
  }
  
  .form-actions {
    position: sticky;
    bottom: 0;
    background: #fff;
    padding: 16px;
    border-top: 1px solid #f0f0f0;
    margin: 0 -16px -16px;
    
    .btn {
      width: 100%;
      margin-bottom: 8px;
      
      &:last-child {
        margin-bottom: 0;
      }
    }
  }
}
```

### 5.3 键盘适配

#### 键盘弹起处理
```javascript
// 键盘弹起适配
class KeyboardAdapter {
  constructor() {
    this.initialViewportHeight = window.innerHeight;
    this.bindEvents();
  }
  
  bindEvents() {
    window.addEventListener('resize', this.handleResize.bind(this));
    
    // iOS Safari 特殊处理
    if (this.isIOS()) {
      document.addEventListener('focusin', this.handleFocusIn.bind(this));
      document.addEventListener('focusout', this.handleFocusOut.bind(this));
    }
  }
  
  handleResize() {
    const currentHeight = window.innerHeight;
    const heightDiff = this.initialViewportHeight - currentHeight;
    
    if (heightDiff > 150) {
      // 键盘弹起
      document.body.classList.add('keyboard-open');
      this.adjustLayout(heightDiff);
    } else {
      // 键盘收起
      document.body.classList.remove('keyboard-open');
      this.resetLayout();
    }
  }
  
  handleFocusIn(e) {
    if (this.isInputElement(e.target)) {
      setTimeout(() => {
        e.target.scrollIntoView({ behavior: 'smooth', block: 'center' });
      }, 300);
    }
  }
  
  handleFocusOut() {
    // 延迟重置，避免键盘收起时的闪烁
    setTimeout(() => {
      window.scrollTo(0, 0);
    }, 100);
  }
  
  adjustLayout(keyboardHeight) {
    const activeElement = document.activeElement;
    if (this.isInputElement(activeElement)) {
      const elementRect = activeElement.getBoundingClientRect();
      const viewportHeight = window.innerHeight;
      
      if (elementRect.bottom > viewportHeight - keyboardHeight) {
        const scrollOffset = elementRect.bottom - (viewportHeight - keyboardHeight) + 20;
        window.scrollBy(0, scrollOffset);
      }
    }
  }
  
  resetLayout() {
    // 重置布局
  }
  
  isInputElement(element) {
    const inputTypes = ['input', 'textarea', 'select'];
    return inputTypes.includes(element.tagName.toLowerCase());
  }
  
  isIOS() {
    return /iPad|iPhone|iPod/.test(navigator.userAgent);
  }
}

// 初始化键盘适配器
new KeyboardAdapter();
```

#### 键盘样式适配
```scss
// 键盘弹起时的样式调整
body.keyboard-open {
  .page-footer {
    display: none;
  }
  
  .form-actions {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 1000;
  }
  
  .page-content {
    padding-bottom: 80px; // 为固定按钮留出空间
  }
}
```

## 6. 列表和卡片

### 6.1 列表设计

#### 基础列表
```scss
.mobile-list {
  background: #fff;
  border-radius: 8px;
  overflow: hidden;
  
  .list-item {
    display: flex;
    align-items: center;
    padding: 16px;
    border-bottom: 1px solid #f0f0f0;
    transition: background-color 0.2s ease;
    
    &:last-child {
      border-bottom: none;
    }
    
    &:active {
      background: #f5f5f5;
    }
    
    .item-avatar {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      margin-right: 12px;
      flex-shrink: 0;
    }
    
    .item-content {
      flex: 1;
      min-width: 0; // 防止文本溢出
      
      .item-title {
        font-size: 16px;
        font-weight: 500;
        color: #262626;
        margin-bottom: 4px;
        
        // 单行省略
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      
      .item-subtitle {
        font-size: 14px;
        color: #999;
        
        // 两行省略
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }
    }
    
    .item-extra {
      flex-shrink: 0;
      margin-left: 12px;
      
      .item-time {
        font-size: 12px;
        color: #999;
        margin-bottom: 4px;
      }
      
      .item-badge {
        background: #ff4d4f;
        color: #fff;
        font-size: 10px;
        padding: 2px 6px;
        border-radius: 10px;
        min-width: 16px;
        text-align: center;
      }
    }
    
    .item-arrow {
      font-size: 16px;
      color: #bfbfbf;
      margin-left: 8px;
    }
  }
}
```

#### 分组列表
```scss
.grouped-list {
  .list-group {
    margin-bottom: 16px;
    
    .group-header {
      padding: 8px 16px;
      background: #fafafa;
      font-size: 12px;
      color: #999;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    .group-content {
      background: #fff;
      border-radius: 8px;
      overflow: hidden;
    }
  }
}
```

### 6.2 卡片设计

#### 信息卡片
```scss
.info-card {
  background: #fff;
  border-radius: 12px;
  padding: 16px;
  margin-bottom: 16px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  
  .card-header {
    display: flex;
    align-items: center;
    margin-bottom: 12px;
    
    .card-icon {
      width: 40px;
      height: 40px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 12px;
      
      &.primary {
        background: rgba(24, 144, 255, 0.1);
        color: #1890ff;
      }
      
      &.success {
        background: rgba(82, 196, 26, 0.1);
        color: #52c41a;
      }
      
      &.warning {
        background: rgba(250, 140, 22, 0.1);
        color: #fa8c16;
      }
    }
    
    .card-title {
      flex: 1;
      font-size: 16px;
      font-weight: 600;
      color: #262626;
      margin: 0;
    }
    
    .card-extra {
      font-size: 12px;
      color: #999;
    }
  }
  
  .card-content {
    .card-description {
      font-size: 14px;
      color: #595959;
      line-height: 1.5;
      margin-bottom: 12px;
    }
    
    .card-stats {
      display: flex;
      gap: 16px;
      
      .stat-item {
        flex: 1;
        text-align: center;
        
        .stat-value {
          font-size: 20px;
          font-weight: 600;
          color: #262626;
          margin-bottom: 4px;
        }
        
        .stat-label {
          font-size: 12px;
          color: #999;
        }
      }
    }
  }
  
  .card-actions {
    display: flex;
    gap: 8px;
    margin-top: 16px;
    padding-top: 16px;
    border-top: 1px solid #f0f0f0;
    
    .card-btn {
      flex: 1;
      height: 36px;
      border: 1px solid #d9d9d9;
      border-radius: 6px;
      background: #fff;
      color: #595959;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.2s ease;
      
      &.primary {
        background: #1890ff;
        border-color: #1890ff;
        color: #fff;
      }
      
      &:active {
        transform: translateY(1px);
      }
    }
  }
}
```

### 6.3 虚拟滚动

#### 长列表优化
```javascript
// 虚拟滚动实现
class VirtualList {
  constructor(container, options) {
    this.container = container;
    this.options = {
      itemHeight: 60,
      buffer: 5,
      ...options
    };
    
    this.data = [];
    this.visibleStart = 0;
    this.visibleEnd = 0;
    this.scrollTop = 0;
    
    this.init();
  }
  
  init() {
    this.container.style.overflow = 'auto';
    this.container.style.position = 'relative';
    
    this.viewport = document.createElement('div');
    this.viewport.style.position = 'absolute';
    this.viewport.style.top = '0';
    this.viewport.style.left = '0';
    this.viewport.style.right = '0';
    
    this.container.appendChild(this.viewport);
    
    this.container.addEventListener('scroll', this.handleScroll.bind(this));
  }
  
  setData(data) {
    this.data = data;
    this.updateVisibleRange();
    this.render();
  }
  
  handleScroll() {
    this.scrollTop = this.container.scrollTop;
    this.updateVisibleRange();
    this.render();
  }
  
  updateVisibleRange() {
    const containerHeight = this.container.clientHeight;
    const itemHeight = this.options.itemHeight;
    const buffer = this.options.buffer;
    
    this.visibleStart = Math.max(0, Math.floor(this.scrollTop / itemHeight) - buffer);
    this.visibleEnd = Math.min(
      this.data.length,
      Math.ceil((this.scrollTop + containerHeight) / itemHeight) + buffer
    );
  }
  
  render() {
    const itemHeight = this.options.itemHeight;
    const totalHeight = this.data.length * itemHeight;
    
    // 设置容器总高度
    this.container.style.height = `${totalHeight}px`;
    
    // 清空视口
    this.viewport.innerHTML = '';
    
    // 渲染可见项
    for (let i = this.visibleStart; i < this.visibleEnd; i++) {
      const item = this.createItem(this.data[i], i);
      item.style.position = 'absolute';
      item.style.top = `${i * itemHeight}px`;
      item.style.left = '0';
      item.style.right = '0';
      item.style.height = `${itemHeight}px`;
      
      this.viewport.appendChild(item);
    }
  }
  
  createItem(data, index) {
    const item = document.createElement('div');
    item.className = 'virtual-list-item';
    item.innerHTML = this.options.renderItem(data, index);
    return item;
  }
}

// 使用示例
const listContainer = document.querySelector('.long-list');
const virtualList = new VirtualList(listContainer, {
  itemHeight: 80,
  renderItem: (data, index) => `
    <div class="list-item">
      <div class="item-avatar">
        <img src="${data.avatar}" alt="${data.name}">
      </div>
      <div class="item-content">
        <div class="item-title">${data.name}</div>
        <div class="item-subtitle">${data.description}</div>
      </div>
    </div>
  `
});

virtualList.setData(largeDataSet);
```

## 7. 性能优化

### 7.1 加载优化

#### 懒加载图片
```javascript
// 图片懒加载
class LazyImageLoader {
  constructor() {
    this.images = [];
    this.observer = null;
    this.init();
  }
  
  init() {
    if ('IntersectionObserver' in window) {
      this.observer = new IntersectionObserver(
        this.handleIntersection.bind(this),
        {
          rootMargin: '50px 0px',
          threshold: 0.01
        }
      );
    }
    
    this.loadImages();
  }
  
  loadImages() {
    const images = document.querySelectorAll('img[data-src]');
    images.forEach(img => {
      if (this.observer) {
        this.observer.observe(img);
      } else {
        this.loadImage(img);
      }
    });
  }
  
  handleIntersection(entries) {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        this.loadImage(entry.target);
        this.observer.unobserve(entry.target);
      }
    });
  }
  
  loadImage(img) {
    const src = img.dataset.src;
    if (src) {
      img.src = src;
      img.removeAttribute('data-src');
      img.classList.add('loaded');
    }
  }
}

// 初始化懒加载
new LazyImageLoader();
```

#### 预加载关键资源
```html
<!-- 预加载关键CSS -->
<link rel="preload" href="critical.css" as="style">

<!-- 预加载关键字体 -->
<link rel="preload" href="font.woff2" as="font" type="font/woff2" crossorigin>

<!-- 预加载关键图片 -->
<link rel="preload" href="hero-image.jpg" as="image">

<!-- DNS预解析 -->
<link rel="dns-prefetch" href="//api.example.com">

<!-- 预连接 -->
<link rel="preconnect" href="//fonts.googleapis.com" crossorigin>
```

### 7.2 渲染优化

#### 防抖和节流
```javascript
// 防抖函数
function debounce(func, wait, immediate) {
  let timeout;
  return function executedFunction(...args) {
    const later = () => {
      timeout = null;
      if (!immediate) func(...args);
    };
    const callNow = immediate && !timeout;
    clearTimeout(timeout);
    timeout = setTimeout(later, wait);
    if (callNow) func(...args);
  };
}

// 节流函数
function throttle(func, limit) {
  let inThrottle;
  return function(...args) {
    if (!inThrottle) {
      func.apply(this, args);
      inThrottle = true;
      setTimeout(() => inThrottle = false, limit);
    }
  };
}

// 使用示例
const searchInput = document.querySelector('.search-input');
const handleSearch = debounce((value) => {
  // 执行搜索
  performSearch(value);
}, 300);

searchInput.addEventListener('input', (e) => {
  handleSearch(e.target.value);
});

const scrollHandler = throttle(() => {
  // 处理滚动事件
  handleScroll();
}, 16); // 60fps

window.addEventListener('scroll', scrollHandler);
```

### 7.3 内存管理

#### 组件清理
```javascript
// 组件生命周期管理
class MobileComponent {
  constructor(element) {
    this.element = element;
    this.listeners = [];
    this.timers = [];
    this.observers = [];
    
    this.init();
  }
  
  init() {
    // 初始化组件
  }
  
  addEventListener(element, event, handler, options) {
    element.addEventListener(event, handler, options);
    this.listeners.push({ element, event, handler, options });
  }
  
  setTimeout(callback, delay) {
    const timer = setTimeout(callback, delay);
    this.timers.push(timer);
    return timer;
  }
  
  setInterval(callback, interval) {
    const timer = setInterval(callback, interval);
    this.timers.push(timer);
    return timer;
  }
  
  observe(target, observer) {
    observer.observe(target);
    this.observers.push({ target, observer });
  }
  
  destroy() {
    // 清理事件监听器
    this.listeners.forEach(({ element, event, handler, options }) => {
      element.removeEventListener(event, handler, options);
    });
    
    // 清理定时器
    this.timers.forEach(timer => {
      clearTimeout(timer);
      clearInterval(timer);
    });
    
    // 清理观察器
    this.observers.forEach(({ target, observer }) => {
      observer.unobserve(target);
    });
    
    // 清理数组
    this.listeners = [];
    this.timers = [];
    this.observers = [];
  }
}
```

## 8. 测试和调试

### 8.1 移动端调试

#### 远程调试
```javascript
// 移动端调试工具
class MobileDebugger {
  constructor() {
    this.isDebugMode = this.checkDebugMode();
    if (this.isDebugMode) {
      this.init();
    }
  }
  
  checkDebugMode() {
    return window.location.search.includes('debug=true') || 
           localStorage.getItem('debug') === 'true';
  }
  
  init() {
    this.createDebugPanel();
    this.addDeviceInfo();
    this.addPerformanceMonitor();
    this.addConsoleCapture();
  }
  
  createDebugPanel() {
    this.panel = document.createElement('div');
    this.panel.style.cssText = `
      position: fixed;
      top: 0;
      right: 0;
      width: 300px;
      height: 200px;
      background: rgba(0,0,0,0.8);
      color: white;
      font-size: 12px;
      padding: 10px;
      z-index: 9999;
      overflow-y: auto;
    `;
    document.body.appendChild(this.panel);
  }
  
  addDeviceInfo() {
    const info = {
      userAgent: navigator.userAgent,
      viewport: `${window.innerWidth}x${window.innerHeight}`,
      pixelRatio: window.devicePixelRatio,
      orientation: screen.orientation?.type || 'unknown'
    };
    
    this.log('Device Info:', info);
  }
  
  addPerformanceMonitor() {
    setInterval(() => {
      const memory = performance.memory;
      if (memory) {
        this.log('Memory:', {
          used: Math.round(memory.usedJSHeapSize / 1024 / 1024) + 'MB',
          total: Math.round(memory.totalJSHeapSize / 1024 / 1024) + 'MB'
        });
      }
    }, 5000);
  }
  
  addConsoleCapture() {
    const originalLog = console.log;
    const originalError = console.error;
    
    console.log = (...args) => {
      originalLog.apply(console, args);
      this.log('LOG:', args);
    };
    
    console.error = (...args) => {
      originalError.apply(console, args);
      this.log('ERROR:', args);
    };
  }
  
  log(label, data) {
    const logEntry = document.createElement('div');
    logEntry.innerHTML = `<strong>${label}</strong> ${JSON.stringify(data)}`;
    this.panel.appendChild(logEntry);
    this.panel.scrollTop = this.panel.scrollHeight;
  }
}

// 初始化调试器
new MobileDebugger();
```

### 8.2 性能测试

#### 性能指标监控
```javascript
// 性能监控
class PerformanceMonitor {
  constructor() {
    this.metrics = {};
    this.init();
  }
  
  init() {
    this.measurePageLoad();
    this.measureUserInteraction();
    this.measureMemoryUsage();
  }
  
  measurePageLoad() {
    window.addEventListener('load', () => {
      const navigation = performance.getEntriesByType('navigation')[0];
      const paint = performance.getEntriesByType('paint');
      
      this.metrics.pageLoad = {
        domContentLoaded: navigation.domContentLoadedEventEnd - navigation.domContentLoadedEventStart,
        loadComplete: navigation.loadEventEnd - navigation.loadEventStart,
        firstPaint: paint.find(p => p.name === 'first-paint')?.startTime,
        firstContentfulPaint: paint.find(p => p.name === 'first-contentful-paint')?.startTime
      };
      
      this.reportMetrics();
    });
  }
  
  measureUserInteraction() {
    let interactionStart;
    
    document.addEventListener('touchstart', () => {
      interactionStart = performance.now();
    });
    
    document.addEventListener('touchend', () => {
      if (interactionStart) {
        const interactionTime = performance.now() - interactionStart;
        this.metrics.lastInteraction = interactionTime;
        
        if (interactionTime > 100) {
          console.warn(`Slow interaction detected: ${interactionTime.toFixed(2)}ms`);
        }
      }
    });
  }
  
  measureMemoryUsage() {
    if (performance.memory) {
      setInterval(() => {
        this.metrics.memory = {
          used: performance.memory.usedJSHeapSize,
          total: performance.memory.totalJSHeapSize,
          limit: performance.memory.jsHeapSizeLimit
        };
      }, 10000);
    }
  }
  
  reportMetrics() {
    // 发送性能数据到分析服务
    if (navigator.sendBeacon) {
      navigator.sendBeacon('/api/performance', JSON.stringify(this.metrics));
    }
  }
}

// 初始化性能监控
new PerformanceMonitor();
```

### 8.3 兼容性测试

#### 特性检测
```javascript
// 特性检测和降级处理
class FeatureDetector {
  constructor() {
    this.features = this.detectFeatures();
    this.applyPolyfills();
  }
  
  detectFeatures() {
    return {
      touchEvents: 'ontouchstart' in window,
      intersectionObserver: 'IntersectionObserver' in window,
      webp: this.supportsWebP(),
      serviceWorker: 'serviceWorker' in navigator,
      localStorage: this.supportsLocalStorage(),
      flexbox: this.supportsFlexbox(),
      grid: this.supportsGrid()
    };
  }
  
  supportsWebP() {
    const canvas = document.createElement('canvas');
    canvas.width = 1;
    canvas.height = 1;
    return canvas.toDataURL('image/webp').indexOf('data:image/webp') === 0;
  }
  
  supportsLocalStorage() {
    try {
      const test = 'test';
      localStorage.setItem(test, test);
      localStorage.removeItem(test);
      return true;
    } catch (e) {
      return false;
    }
  }
  
  supportsFlexbox() {
    const element = document.createElement('div');
    element.style.display = 'flex';
    return element.style.display === 'flex';
  }
  
  supportsGrid() {
    const element = document.createElement('div');
    element.style.display = 'grid';
    return element.style.display === 'grid';
  }
  
  applyPolyfills() {
    // IntersectionObserver polyfill
    if (!this.features.intersectionObserver) {
      this.loadPolyfill('https://polyfill.io/v3/polyfill.min.js?features=IntersectionObserver');
    }
    
    // Flexbox fallback
    if (!this.features.flexbox) {
      document.body.classList.add('no-flexbox');
    }
    
    // Grid fallback
    if (!this.features.grid) {
      document.body.classList.add('no-grid');
    }
  }
  
  loadPolyfill(url) {
    const script = document.createElement('script');
    script.src = url;
    script.async = true;
    document.head.appendChild(script);
  }
}

// 初始化特性检测
new FeatureDetector();
```

---

本移动端设计指南为智能教学助手提供了全面的移动端设计方案，确保产品在移动设备上能够提供优秀的用户体验，满足教育场景下的特殊需求。