2025-08-17 00:27:17,346 - ERROR - 加载测试账号失败: [Errno 2] No such file or directory: 'test_accounts.json'
2025-08-17 00:27:17,346 - ERROR - 认证测试执行失败: [Errno 2] No such file or directory: 'test_accounts.json'
2025-08-17 00:29:01,636 - ERROR - 加载测试账号失败: [Errno 2] No such file or directory: 'test_accounts.json'
2025-08-17 00:29:01,637 - ERROR - 认证测试执行失败: [Errno 2] No such file or directory: 'test_accounts.json'
2025-08-17 00:29:39,225 - INFO - 成功加载 13 个测试账号
2025-08-17 00:29:39,225 - INFO - 认证测试器初始化完成，基础URL: http://localhost:8000
2025-08-17 00:29:39,225 - INFO - 开始执行完整认证测试套件...
2025-08-17 00:29:39,225 - INFO - 找到 11 个活跃测试账号
2025-08-17 00:29:39,225 - INFO - 1. 测试有效登录...
2025-08-17 00:29:39,238 - ERROR - 账号 admin_test 登录失败，状态码: 500, 错误: Internal Server Error
2025-08-17 00:29:39,247 - ERROR - 账号 teacher_zhang 登录失败，状态码: 500, 错误: Internal Server Error
2025-08-17 00:29:39,250 - ERROR - 账号 teacher_li 登录失败，状态码: 500, 错误: Internal Server Error
2025-08-17 00:29:39,252 - ERROR - 账号 teacher_wang 登录失败，状态码: 500, 错误: Internal Server Error
2025-08-17 00:29:39,261 - ERROR - 账号 principal_chen 登录失败，状态码: 500, 错误: Internal Server Error
2025-08-17 00:29:39,278 - ERROR - 账号 director_liu 登录失败，状态码: 500, 错误: Internal Server Error
2025-08-17 00:29:39,281 - ERROR - 账号 student_xiaoming 登录失败，状态码: 500, 错误: Internal Server Error
2025-08-17 00:29:39,290 - ERROR - 账号 student_xiaohong 登录失败，状态码: 500, 错误: Internal Server Error
2025-08-17 00:29:39,293 - ERROR - 账号 parent_zhang 登录失败，状态码: 500, 错误: Internal Server Error
2025-08-17 00:29:39,296 - ERROR - 账号 parent_li 登录失败，状态码: 500, 错误: Internal Server Error
2025-08-17 00:29:39,298 - ERROR - 账号 guest_visitor 登录失败，状态码: 500, 错误: Internal Server Error
2025-08-17 00:29:39,299 - INFO - 2. 测试无效凭据...
2025-08-17 00:29:39,299 - INFO - 开始测试无效凭据...
2025-08-17 00:29:39,301 - INFO - 无效凭据测试通过: 完全无效的用户名和密码 - 状态码: 401
2025-08-17 00:29:39,569 - INFO - 无效凭据测试通过: 有效用户名，无效密码 - 状态码: 401
2025-08-17 00:29:39,572 - INFO - 无效凭据测试通过: 无效用户名，有效密码格式 - 状态码: 401
2025-08-17 00:29:39,574 - INFO - 无效凭据测试通过: 空用户名 - 状态码: 401
2025-08-17 00:29:39,818 - INFO - 无效凭据测试通过: 空密码 - 状态码: 401
2025-08-17 00:29:39,821 - INFO - 无效凭据测试通过: 空用户名和密码 - 状态码: 401
2025-08-17 00:29:39,821 - INFO - 3. 测试会话验证...
2025-08-17 00:29:39,822 - INFO - 4. 测试无效token访问...
2025-08-17 00:29:39,822 - INFO - 测试无效token访问...
2025-08-17 00:29:39,823 - ERROR - 无效token测试失败: invalid_token - 期望401，实际: 404
2025-08-17 00:29:39,824 - ERROR - 无效token测试失败: Bearer invalid_token - 期望401，实际: 404
2025-08-17 00:29:39,825 - ERROR - 无效token测试失败: expired_token_12345 - 期望401，实际: 404
2025-08-17 00:29:39,827 - ERROR - 无效token测试失败: (empty) - 期望401，实际: 404
2025-08-17 00:29:39,828 - ERROR - 无效token测试失败: malformed.token.here - 期望401，实际: 404
2025-08-17 00:29:39,829 - INFO - 5. 测试并发登录...
2025-08-17 00:29:39,829 - INFO - 开始并发登录测试，账号数: 5, 并发数: 5
2025-08-17 00:29:39,836 - ERROR - 账号 teacher_wang 登录失败，状态码: 500, 错误: Internal Server Error
2025-08-17 00:29:39,837 - ERROR - 账号 teacher_li 登录失败，状态码: 500, 错误: Internal Server Error
2025-08-17 00:29:39,838 - ERROR - 账号 teacher_zhang 登录失败，状态码: 500, 错误: Internal Server Error
2025-08-17 00:29:39,840 - ERROR - 账号 principal_chen 登录失败，状态码: 500, 错误: Internal Server Error
2025-08-17 00:29:39,842 - ERROR - 账号 admin_test 登录失败，状态码: 500, 错误: Internal Server Error
2025-08-17 00:29:39,842 - ERROR - 并发登录失败: admin_test - {'success': False, 'error': 'HTTP 500: Internal Server Error', 'response_time': 0.012900114059448242}
2025-08-17 00:29:39,842 - ERROR - 并发登录失败: teacher_zhang - {'success': False, 'error': 'HTTP 500: Internal Server Error', 'response_time': 0.009406089782714844}
2025-08-17 00:29:39,842 - ERROR - 并发登录失败: teacher_li - {'success': False, 'error': 'HTTP 500: Internal Server Error', 'response_time': 0.007843971252441406}
2025-08-17 00:29:39,842 - ERROR - 并发登录失败: teacher_wang - {'success': False, 'error': 'HTTP 500: Internal Server Error', 'response_time': 0.0060999393463134766}
2025-08-17 00:29:39,842 - ERROR - 并发登录失败: principal_chen - {'success': False, 'error': 'HTTP 500: Internal Server Error', 'response_time': 0.010563135147094727}
2025-08-17 00:29:39,842 - INFO - 并发登录测试完成，成功: 0, 失败: 5, 总时间: 0.01s
2025-08-17 00:29:39,842 - INFO - 6. 测试登出...
2025-08-17 00:29:39,842 - INFO - 认证测试套件执行完成
2025-08-17 00:29:39,842 - INFO - 登录成功率: 0.0%
2025-08-17 00:29:39,842 - INFO - 会话验证成功率: 0.0%
2025-08-17 00:29:39,842 - INFO - 登出成功率: 0.0%
2025-08-17 00:29:39,842 - INFO - 无效凭据处理率: 100.0%
2025-08-17 00:29:39,842 - INFO - 无效token处理: 失败
2025-08-17 00:29:39,842 - INFO - 并发登录测试: 失败
2025-08-17 00:31:12,576 - INFO - 成功加载 13 个测试账号
2025-08-17 00:31:12,576 - INFO - 认证测试器初始化完成，基础URL: http://localhost:8000
2025-08-17 00:31:12,576 - INFO - 开始执行完整认证测试套件...
2025-08-17 00:31:12,576 - INFO - 找到 11 个活跃测试账号
2025-08-17 00:31:12,576 - INFO - 1. 测试有效登录...
2025-08-17 00:31:15,070 - INFO - 2. 测试无效凭据...
2025-08-17 00:31:15,070 - INFO - 开始测试无效凭据...
2025-08-17 00:31:15,072 - INFO - 无效凭据测试通过: 完全无效的用户名和密码 - 状态码: 401
2025-08-17 00:31:15,075 - INFO - 无效凭据测试通过: 有效用户名，无效密码 - 状态码: 401
2025-08-17 00:31:15,077 - INFO - 无效凭据测试通过: 无效用户名，有效密码格式 - 状态码: 401
2025-08-17 00:31:15,079 - INFO - 无效凭据测试通过: 空用户名 - 状态码: 401
2025-08-17 00:31:15,082 - INFO - 无效凭据测试通过: 空密码 - 状态码: 401
2025-08-17 00:31:15,084 - INFO - 无效凭据测试通过: 空用户名和密码 - 状态码: 401
2025-08-17 00:31:15,085 - INFO - 3. 测试会话验证...
2025-08-17 00:31:15,085 - INFO - 4. 测试无效token访问...
2025-08-17 00:31:15,085 - INFO - 测试无效token访问...
2025-08-17 00:31:15,086 - ERROR - 无效token测试失败: invalid_token - 期望401，实际: 404
2025-08-17 00:31:15,087 - ERROR - 无效token测试失败: Bearer invalid_token - 期望401，实际: 404
2025-08-17 00:31:15,088 - ERROR - 无效token测试失败: expired_token_12345 - 期望401，实际: 404
2025-08-17 00:31:15,090 - ERROR - 无效token测试失败: (empty) - 期望401，实际: 404
2025-08-17 00:31:15,091 - ERROR - 无效token测试失败: malformed.token.here - 期望401，实际: 404
2025-08-17 00:31:15,091 - INFO - 5. 测试并发登录...
2025-08-17 00:31:15,091 - INFO - 开始并发登录测试，账号数: 5, 并发数: 5
2025-08-17 00:31:15,324 - ERROR - 并发登录失败: admin_test - {'success': False, 'error': '未返回有效token'}
2025-08-17 00:31:15,325 - ERROR - 并发登录失败: teacher_zhang - {'success': False, 'error': '未返回有效token'}
2025-08-17 00:31:15,325 - ERROR - 并发登录失败: teacher_li - {'success': False, 'error': '未返回有效token'}
2025-08-17 00:31:15,325 - ERROR - 并发登录失败: teacher_wang - {'success': False, 'error': '未返回有效token'}
2025-08-17 00:31:15,325 - ERROR - 并发登录失败: principal_chen - {'success': False, 'error': '未返回有效token'}
2025-08-17 00:31:15,325 - INFO - 并发登录测试完成，成功: 0, 失败: 5, 总时间: 0.23s
2025-08-17 00:31:15,325 - INFO - 6. 测试登出...
2025-08-17 00:31:15,325 - INFO - 认证测试套件执行完成
2025-08-17 00:31:15,325 - INFO - 登录成功率: 0.0%
2025-08-17 00:31:15,325 - INFO - 会话验证成功率: 0.0%
2025-08-17 00:31:15,325 - INFO - 登出成功率: 0.0%
2025-08-17 00:31:15,325 - INFO - 无效凭据处理率: 100.0%
2025-08-17 00:31:15,325 - INFO - 无效token处理: 失败
2025-08-17 00:31:15,325 - INFO - 并发登录测试: 失败
2025-08-17 00:32:28,777 - INFO - 成功加载 13 个测试账号
2025-08-17 00:32:28,777 - INFO - 认证测试器初始化完成，基础URL: http://localhost:8000
2025-08-17 00:32:28,777 - INFO - 开始执行完整认证测试套件...
2025-08-17 00:32:28,777 - INFO - 找到 11 个活跃测试账号
2025-08-17 00:32:28,777 - INFO - 1. 测试有效登录...
2025-08-17 00:32:28,782 - ERROR - 账号 admin_test 登录失败，状态码: 404, 错误: {"detail":"Not Found"}
2025-08-17 00:32:28,784 - ERROR - 账号 teacher_zhang 登录失败，状态码: 404, 错误: {"detail":"Not Found"}
2025-08-17 00:32:28,785 - ERROR - 账号 teacher_li 登录失败，状态码: 404, 错误: {"detail":"Not Found"}
2025-08-17 00:32:28,787 - ERROR - 账号 teacher_wang 登录失败，状态码: 404, 错误: {"detail":"Not Found"}
2025-08-17 00:32:28,788 - ERROR - 账号 principal_chen 登录失败，状态码: 404, 错误: {"detail":"Not Found"}
2025-08-17 00:32:28,790 - ERROR - 账号 director_liu 登录失败，状态码: 404, 错误: {"detail":"Not Found"}
2025-08-17 00:32:28,791 - ERROR - 账号 student_xiaoming 登录失败，状态码: 404, 错误: {"detail":"Not Found"}
2025-08-17 00:32:28,793 - ERROR - 账号 student_xiaohong 登录失败，状态码: 404, 错误: {"detail":"Not Found"}
2025-08-17 00:32:28,794 - ERROR - 账号 parent_zhang 登录失败，状态码: 404, 错误: {"detail":"Not Found"}
2025-08-17 00:32:28,795 - ERROR - 账号 parent_li 登录失败，状态码: 404, 错误: {"detail":"Not Found"}
2025-08-17 00:32:28,797 - ERROR - 账号 guest_visitor 登录失败，状态码: 404, 错误: {"detail":"Not Found"}
2025-08-17 00:32:28,797 - INFO - 2. 测试无效凭据...
2025-08-17 00:32:28,797 - INFO - 开始测试无效凭据...
2025-08-17 00:32:28,799 - INFO - 无效凭据测试通过: 完全无效的用户名和密码 - 状态码: 401
2025-08-17 00:32:28,802 - INFO - 无效凭据测试通过: 有效用户名，无效密码 - 状态码: 401
2025-08-17 00:32:28,804 - INFO - 无效凭据测试通过: 无效用户名，有效密码格式 - 状态码: 401
2025-08-17 00:32:28,806 - INFO - 无效凭据测试通过: 空用户名 - 状态码: 401
2025-08-17 00:32:28,808 - INFO - 无效凭据测试通过: 空密码 - 状态码: 401
2025-08-17 00:32:28,810 - INFO - 无效凭据测试通过: 空用户名和密码 - 状态码: 401
2025-08-17 00:32:28,810 - INFO - 3. 测试会话验证...
2025-08-17 00:32:28,810 - INFO - 4. 测试无效token访问...
2025-08-17 00:32:28,810 - INFO - 测试无效token访问...
2025-08-17 00:32:28,811 - ERROR - 无效token测试失败: invalid_token - 期望401，实际: 404
2025-08-17 00:32:28,812 - ERROR - 无效token测试失败: Bearer invalid_token - 期望401，实际: 404
2025-08-17 00:32:28,814 - ERROR - 无效token测试失败: expired_token_12345 - 期望401，实际: 404
2025-08-17 00:32:28,815 - ERROR - 无效token测试失败: (empty) - 期望401，实际: 404
2025-08-17 00:32:28,816 - ERROR - 无效token测试失败: malformed.token.here - 期望401，实际: 404
2025-08-17 00:32:28,816 - INFO - 5. 测试并发登录...
2025-08-17 00:32:28,816 - INFO - 开始并发登录测试，账号数: 5, 并发数: 5
2025-08-17 00:32:28,819 - ERROR - 账号 teacher_wang 登录失败，状态码: 404, 错误: {"detail":"Not Found"}
2025-08-17 00:32:28,819 - ERROR - 账号 principal_chen 登录失败，状态码: 404, 错误: {"detail":"Not Found"}
2025-08-17 00:32:28,819 - ERROR - 账号 admin_test 登录失败，状态码: 404, 错误: {"detail":"Not Found"}
2025-08-17 00:32:28,820 - ERROR - 账号 teacher_zhang 登录失败，状态码: 404, 错误: {"detail":"Not Found"}
2025-08-17 00:32:28,820 - ERROR - 账号 teacher_li 登录失败，状态码: 404, 错误: {"detail":"Not Found"}
2025-08-17 00:32:28,820 - ERROR - 并发登录失败: admin_test - {'success': False, 'error': 'HTTP 404: {"detail":"Not Found"}', 'response_time': 0.0031790733337402344}
2025-08-17 00:32:28,820 - ERROR - 并发登录失败: teacher_zhang - {'success': False, 'error': 'HTTP 404: {"detail":"Not Found"}', 'response_time': 0.003236055374145508}
2025-08-17 00:32:28,820 - ERROR - 并发登录失败: teacher_li - {'success': False, 'error': 'HTTP 404: {"detail":"Not Found"}', 'response_time': 0.003245115280151367}
2025-08-17 00:32:28,820 - ERROR - 并发登录失败: teacher_wang - {'success': False, 'error': 'HTTP 404: {"detail":"Not Found"}', 'response_time': 0.002178192138671875}
2025-08-17 00:32:28,820 - ERROR - 并发登录失败: principal_chen - {'success': False, 'error': 'HTTP 404: {"detail":"Not Found"}', 'response_time': 0.0024340152740478516}
2025-08-17 00:32:28,820 - INFO - 并发登录测试完成，成功: 0, 失败: 5, 总时间: 0.00s
2025-08-17 00:32:28,820 - INFO - 6. 测试登出...
2025-08-17 00:32:28,820 - INFO - 认证测试套件执行完成
2025-08-17 00:32:28,820 - INFO - 登录成功率: 0.0%
2025-08-17 00:32:28,820 - INFO - 会话验证成功率: 0.0%
2025-08-17 00:32:28,820 - INFO - 登出成功率: 0.0%
2025-08-17 00:32:28,821 - INFO - 无效凭据处理率: 100.0%
2025-08-17 00:32:28,821 - INFO - 无效token处理: 失败
2025-08-17 00:32:28,821 - INFO - 并发登录测试: 失败
